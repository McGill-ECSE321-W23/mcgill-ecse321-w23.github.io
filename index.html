<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>ECSE 321 Introduction to Software Engineering: Tutorial</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left data-line-1">
<div id="header">
<h1>ECSE 321 Introduction to Software Engineering: Tutorial</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_project_management_github_and_gradle_pimer">1. Project Management - GitHub and Gradle Pimer</a>
<ul class="sectlevel2">
<li><a href="#_gradle_a_build_framework_and_brief_example">1.1. Gradle: A Build Framework and Brief Example</a></li>
<li><a href="#_github_project_repository">1.2. GitHub Project Repository</a></li>
</ul>
</li>
<li><a href="#_backend">2. Backend</a>
<ul class="sectlevel2">
<li><a href="#_the_domain_model">2.1. The Domain Model</a>
<ul class="sectlevel3">
<li><a href="#_jpa_annotations">2.1.1. JPA Annotations</a></li>
</ul>
</li>
<li><a href="#_database_communication_with_and_without_spring_framework">2.2. Database Communication With and Without Spring Framework</a>
<ul class="sectlevel3">
<li><a href="#_crud_transactions_without_spring">2.2.1. CRUD Transactions Without Spring</a></li>
</ul>
</li>
<li><a href="#_setting_up_a_local_postgresql_database">2.3. Setting Up a Local PostgreSQL Database</a>
<ul class="sectlevel3">
<li><a href="#_installation">2.3.1. Installation</a></li>
<li><a href="#_creating_a_database">2.3.2. Creating a Database</a></li>
</ul>
</li>
<li><a href="#_setting_up_a_spring_boot_project">2.4. Setting up a Spring Boot Project</a></li>
<li><a href="#_crud_repositories">2.5. CRUD Repositories</a>
<ul class="sectlevel3">
<li><a href="#_creating_a_crud_repository">2.5.1. Creating a CRUD Repository</a></li>
</ul>
</li>
<li><a href="#_testing_the_persistence_layer">2.6. Testing the Persistence Layer</a>
<ul class="sectlevel3">
<li><a href="#_writing_a_test">2.6.1. Writing a Test</a></li>
<li><a href="#_running_the_tests">2.6.2. Running the Tests</a></li>
<li><a href="#_debugging_failing_tests">2.6.3. Debugging Failing Tests</a></li>
</ul>
</li>
<li><a href="#_creating_restful_web_services_in_spring">2.7. Creating RESTful Web Services in Spring</a>
<ul class="sectlevel3">
<li><a href="#_implementing_service_methods">2.7.1. Implementing Service Methods</a></li>
<li><a href="#_exposing_service_functionality_via_a_restful_api">2.7.2. Exposing Service Functionality via a RESTful API</a></li>
<li><a href="#_spring_data_an_alternative_way_to_expose_application_data_via_a_restful_interface">2.7.3. Spring Data - an Alternative Way to Expose Application Data via a RESTful Interface</a></li>
</ul>
</li>
<li><a href="#_testing_service_methods_in_backend">2.8. Testing Service Methods in Backend</a>
<ul class="sectlevel3">
<li><a href="#_service_unit_testing_setup_with_mockito">2.8.1. Service Unit Testing Setup with Mockito</a></li>
<li><a href="#_implementing_unit_tests_for_service_class">2.8.2. Implementing Unit Tests for Service Class</a></li>
<li><a href="#_service_integration_testing_with_the_curl_tool">2.8.3. Service Integration Testing with the curl Tool</a></li>
<li><a href="#_service_integration_testing_with_springs_testresttemplate">2.8.4. Service Integration Testing with Spring&#8217;s <code>TestRestTemplate</code></a></li>
</ul>
</li>
<li><a href="#_assessing_code_coverage_using_eclemma">2.9. Assessing Code Coverage using EclEmma</a>
<ul class="sectlevel3">
<li><a href="#_getting_eclemma">2.9.1. Getting EclEmma</a></li>
<li><a href="#_example_gradle_project_for_assessing_code_coverage">2.9.2. Example Gradle Project for Assessing Code Coverage</a></li>
<li><a href="#_retrieving_code_coverage_metrics">2.9.3. Retrieving Code Coverage Metrics</a></li>
</ul>
</li>
<li><a href="#_event_registration_application_unit_code_coverage">2.10. Event Registration Application Unit Code Coverage</a></li>
</ul>
</li>
<li><a href="#_frontend">3. Frontend</a>
<ul class="sectlevel2">
<li><a href="#_installation_instructions_vue_js">3.1. Installation Instructions: Vue.js</a>
<ul class="sectlevel3">
<li><a href="#_install_vue_js">3.1.1. Install Vue.js</a></li>
<li><a href="#_generate_initial_vue_js_project_content">3.1.2. Generate initial Vue.js project content</a></li>
<li><a href="#_install_additional_dependencies">3.1.3. Install additional dependencies</a></li>
<li><a href="#_setting_up_your_development_server">3.1.4. Setting up your development server</a></li>
<li><a href="#_commit_your_work_to_github">3.1.5. Commit your work to Github</a></li>
</ul>
</li>
<li><a href="#_create_a_static_vue_js_component">3.2. Create a Static Vue.js Component</a>
<ul class="sectlevel3">
<li><a href="#_create_a_component_file">3.2.1. Create a component file</a></li>
<li><a href="#_create_a_new_routing_command">3.2.2. Create a new routing command</a></li>
</ul>
</li>
<li><a href="#_vue_js_components_with_dynamic_content">3.3. Vue.js Components with Dynamic Content</a>
<ul class="sectlevel3">
<li><a href="#_add_data_and_event_handlers">3.3.1. Add data and event handlers</a></li>
<li><a href="#_create_dynamic_data_bindings">3.3.2. Create dynamic data bindings</a></li>
</ul>
</li>
<li><a href="#_calling_backend_services">3.4. Calling Backend Services</a>
<ul class="sectlevel3">
<li><a href="#_calling_backend_services_in_from_vue_js_components">3.4.1. Calling backend services in from Vue.js components</a></li>
</ul>
</li>
<li><a href="#_additional_steps_in_the_tutorial">3.5. Additional steps in the tutorial</a>
<ul class="sectlevel3">
<li><a href="#_managing_events">3.5.1. Managing events</a></li>
<li><a href="#_further_documentation">3.5.2. Further documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph data-line-9">
<p>Sections of the tutorial will continuously be published at this web page.</p>
</div>
<div class="paragraph data-line-11">
<p>This tutorial serves to give you the practical knowledge required to execute the group project in true AGILE fashion.</p>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_project_management_github_and_gradle_pimer">1. Project Management - GitHub and Gradle Pimer</h2>
<div class="sectionbody">
<div class="sect2 data-line-1">
<h3 id="_gradle_a_build_framework_and_brief_example">1.1. Gradle: A Build Framework and Brief Example</h3>
<div class="paragraph data-line-3">
<p>This section focuses on writing a Gradle (<a href="https://gradle.org/" class="undefined" data-href="https://gradle.org/">https://gradle.org/</a>) build script that builds a single Gradle project referred to as <em>Computation</em>. The source code and tests for a Java application is available here: <a href="https://github.com/McGill-ECSE321-Fall2020/ecse321-tutorial-notes/raw/master/resources/Computation.zip" data-href="https://github.com/McGill-ECSE321-Fall2020/ecse321-tutorial-notes/raw/master/resources/Computation.zip">Computation.zip</a>. It is your job to create/reorganize the folder called <em>Computation</em>, move sources and tests into that folder, and produce the Gradle build script <em>build.gradle</em> within this folder to automate the software build and testing process for this example project.</p>
</div>
<div class="paragraph data-line-5">
<p>First, open a terminal, and ensure you have the newest version  of Gradle (ver. 7.0+) installed with <code>gradle --version</code>.</p>
</div>
<div class="paragraph data-line-7">
<p>Follow the steps below and add the snippets listed here to <code>build.gradle</code>, one after the other:</p>
</div>
<div class="olist arabic data-line-9">
<ol class="arabic">
<li class="data-line-9">
<p>Create the following folder structure and a new <em>build.gradle</em> (empty) file within the <em>Computation</em> folder:</p>
<div class="listingblock data-line-12">
<div class="content">
<pre class="highlight"><code class="language-none" data-lang="none">Computation
├── build.gradle
└── src
    ├── main
    │   └── java
    │       ├── application
    │       │   └── CompApp.java
    │       ├── computation
    │       │   └── Computation.java
    │       └── view
    │           └── ComputationPage.java
    └── test
        └── java
            └── computation
                ├── AllTests.java
                ├── ComputationTestAddSubstract.java
                └── ComputationTestDivideMultiply.java</code></pre>
</div>
</div>
<div class="paragraph data-line-33">
<p>For Gradle to build your projects correctly, this is the expected file structure. The <code>src</code> folder is divided up into two subdirectories: <code>\main</code> (all application code goes here) and <code>\test</code> (all tests go here). There <strong>MUST</strong> be a <code>java</code> subfolder within both these subdirectories containing all code. If you do not follow this folder structure, you will need to define <code>SourceSets</code>. More on this later.</p>
</div>
</li>
<li class="data-line-35">
<p>Add the <code>java</code> and the <code>application</code> plugins to the build configuration script <em>build.gradle</em>.</p>
<div class="listingblock data-line-38">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">apply plugin: 'java'
// This plugin has a predefined 'run' task that we can reuse to use Gradle to execute our application
apply plugin: 'application'</code></pre>
</div>
</div>
<div class="paragraph data-line-44">
<p>A plugin is simply a set of useful tasks that bundled up that extend our project&#8217;s capabilities. There are two types of plugins:</p>
</div>
<div class="hdlist data-line-46">
<table>
<tr>
<td class="hdlist1">
Script
</td>
<td class="hdlist2">
<p>additional build script that is declarative in manipulating the build.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Binary
</td>
<td class="hdlist2">
<p>Classes that implement the plugin interface and programmatic in manipulating the build.</p>
<div class="paragraph data-line-49">
<p>More information on plugins can be found <a href="https://docs.gradle.org/current/userguide/plugins.html" data-href="https://docs.gradle.org/current/userguide/plugins.html">here</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li class="data-line-51">
<p>Add JUnit libraries to the <code>dependencies</code> section.</p>
<div class="listingblock data-line-54">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">repositories {
    mavenCentral()
}
dependencies {
    testImplementation "junit:junit:4.12"
}</code></pre>
</div>
</div>
<div class="paragraph data-line-62">
<p>Dependencies are external bundles of code that our project relies on to compile, and/or test our source code. Gradle looks for dependencies in repositories. There is no default repository for Gradle so we have to specify one or several.</p>
</div>
</li>
<li class="data-line-64">
<p>Add and describe a new task <code>compile(type: JavaCompile)</code> to specify all source files (both application and test) and set the <em>build/bin</em> as destination dir to put all compiled class files in.</p>
<div class="listingblock data-line-67">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">task compile(type: JavaCompile) {
  classpath = sourceSets.main.compileClasspath
  classpath += sourceSets.test.runtimeClasspath
  sourceSets.test.java.outputDir = file('build/bin')
  sourceSets.main.java.outputDir = file('build/bin')
}

task stage () {
    dependsOn ':Computation:assemble'
}</code></pre>
</div>
</div>
<div class="paragraph data-line-80">
<p>Tasks are blocks of work gradle must perform while building our project. Tasks can essentially do anything.</p>
</div>
<div class="admonitionblock note data-line-82">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
One can specify source sets and their variables the following way:
</td>
</tr>
</table>
</div>
<div class="listingblock data-line-85">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">/*
 * specifying sourceSets is not necessary in this case, since
 * we are applying the default folder structure assumed by Gradle
 */
sourceSets {
  main {
    java { srcDir 'src/main/java' }
  }
  test {
    java { srcDir 'src/test/java'}
  }
}</code></pre>
</div>
</div>
<div class="paragraph data-line-99">
<p>Although this isn&#8217;t necessary, as we follow the default folder structure assumed by Gradle, it is still good practice to do this in case our folder structure changes.</p>
</div>
</li>
<li class="data-line-100">
<p>Specify the main class and run the application.</p>
<div class="listingblock data-line-103">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">mainClassName='application.CompApp'</code></pre>
</div>
</div>
<div class="paragraph data-line-107">
<p>In the command line issue <code>gradle run</code></p>
</div>
</li>
<li class="data-line-109">
<p>Describe the <code>jar</code> Gradle task (defined by the <code>java</code> plugin) to produce an executable jar file into <code>distributable/</code>.</p>
<div class="listingblock data-line-112">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">jar {
  destinationDir=file('distributable')
  manifest {
    // It is smart to reuse the name of the main class variable instead of hardcoding it
    attributes "Main-Class": "$mainClassName"
  }
}</code></pre>
</div>
</div>
</li>
<li class="data-line-122">
<p>Create the <code>settings.gradle</code> file and add the following line:</p>
<div class="listingblock data-line-126">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">include ':Computation'</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_github_project_repository">1.2. GitHub Project Repository</h3>
<div class="paragraph data-line-3">
<p>One of the core components of Agile development is being able to manage the development problem space. GitHub projects extends GitHub&#8217;s utility to make problem space management easy.</p>
</div>
<div class="paragraph data-line-5">
<p>To create a project, click your user icon and select <em>Your projects</em> from the dropdown menu.</p>
</div>
<div class="imageblock data-line-7">
<div class="content">
<img src="figs/GitProj4.png" alt="GitProj4">
</div>
</div>
<div class="paragraph data-line-9">
<p>Select the <em>New Project</em> button to create a project. When selecting the template, select <em>Board</em> under the <strong>Start from scratch</strong> section of the pop-up menu and click <em>Create</em>.</p>
</div>
<div class="imageblock data-line-11">
<div class="content">
<img src="figs/GitProj5.png" alt="GitProj5">
</div>
</div>
<div class="paragraph data-line-13">
<p>Name your project by selecting the default titular text and replacing it with your own porject&#8217;s name. This layout is known as KanBan. By default there are three columns: <strong>To do</strong>, <strong>In progress</strong> and <strong>Done</strong>. More columns can be added by clicking the <strong>+</strong> button at the far right.</p>
</div>
<div class="imageblock data-line-15">
<div class="content">
<img src="figs/GitProj6.png" alt="GitProj6">
</div>
</div>
<div class="paragraph data-line-17">
<p>Any repository can be added to a project by navigating to the <em>Projects</em> tab of the repository, selecting the <em>Add project</em> button and choosing the desired project from the dropdown menu. Project KanBan boards can be viewed by clicking the <em>Projects</em> tab of the repository and selecting the appropriate Project.</p>
</div>
<div class="imageblock data-line-19">
<div class="content">
<img src="figs/GitProj7.PNG" alt="GitHub project cards">
</div>
</div>
<div class="paragraph data-line-21">
<p>To help with better management of the project as you move through project phases, it is prudent to add Milestones. A new milestone can be created by selecting the <em>Issues</em> tab in the repository, and selecting the <em>Milestones</em> tab located next to the <em>New issue</em> button.</p>
</div>
<div class="paragraph data-line-23">
<p>To create a new milestone, select the <em>New Milestone</em> button. Then, fill out the form with an appropriate name, due date and description. Once your milestone has been created, you can attach issues to the milestone and see their progress by selecting the <em>Milestones</em> tab. Name your Milestone appropriately, denote the due date and enter a description.</p>
</div>
<div class="imageblock data-line-25">
<div class="content">
<img src="figs/GitProj11.PNG" alt="GitHub project milestone creation button">
</div>
</div>
<div class="paragraph data-line-27">
<p>With Milestones and Projects set up, issues can now be assigned to the appropriate project and Milestones. Their status should be changed so they are automatically triaged under the correct KanBan column that matches. As issues are completed and closed, don&#8217;t forget to change their status. Closing issues will fill the progress bar on Milestones, while assigning the status of Done shifts issues on the KanBan board.</p>
</div>
<div class="admonitionblock note data-line-30">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The status of issues can only be changed after they are created.
</td>
</tr>
</table>
</div>
<div class="imageblock data-line-32">
<div class="content">
<img src="figs/GitProj8.PNG" alt="GitHub project automation">
</div>
</div>
<div class="imageblock data-line-34">
<div class="content">
<img src="figs/GitProj12.PNG" alt="GitHub project milestone tracking">
</div>
</div>
<div class="paragraph data-line-36">
<p>When creating a new issue it is imperative to be concise but also as descriptive as possible. All the issues you create should have a title, with a comment to describe the issue in detail.</p>
</div>
<div class="paragraph data-line-38">
<p>All issues at the time of creation should be assigned to someone. You can always change this later. Label your issues. If none of the default labels fit, new labels can be created to meet your need. This is accomplished by selecting the <em>Labels</em> tab next to the <em>Milestones</em> tab under the <em>Issues</em> section. Then click the <em>New Label</em> button. Finally, assign your issue to the appropriate milestone and project.<br></p>
</div>
<div class="paragraph data-line-40">
<p>For the purpose of tracking progress through the project, never ever ever delete issues. Issues should be closed and reopened as needed but never deleted. Even if a mistake was made during creation of an issue, issues can be edited by their creator.</p>
</div>
<div class="imageblock data-line-42">
<div class="content">
<img src="figs/GitProj14.PNG" alt="GitHub project issue creation">
</div>
</div>
<div class="paragraph data-line-44">
<p>If you&#8217;ve set everything up correctly. Your issue board should match your KanBan board. The KanBan board should be a snapshot of how the project is going. Nothing should be done manually here. All the manual labor of opening, moving and triaging issues should be done on the issue board, with automated results appearing on the KanBan board.</p>
</div>
<div class="imageblock data-line-5">
<div class="content">
<img src="figs/GitProj15.PNG" alt="GitHub project issue creation">
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_backend">2. Backend</h2>
<div class="sectionbody">
<div class="sect2 data-line-1">
<h3 id="_the_domain_model">2.1. The Domain Model</h3>
<div class="paragraph data-line-3">
<p>Our task is to build an event registration application that allows people to register for events using their name. Before we can program anything we need to model the application.</p>
</div>
<div class="paragraph data-line-5">
<p>For this, use the free modelling program <a href="https://cruise.umple.org/umpleonline/" data-href="https://cruise.umple.org/umpleonline/">Umple</a>. Full documentation on how to use Umple can be found <a href="https://cruise.umple.org/umple/GettingStarted.html" data-href="https://cruise.umple.org/umple/GettingStarted.html">here</a>.</p>
</div>
<div class="paragraph data-line-7">
<p>Ensure that Umple is configured as shown in the image below:</p>
</div>
<div class="imageblock data-line-9">
<div class="content">
<img src="figs/UmpleConfig.png" alt="UmpleConfig">
</div>
</div>
<div class="paragraph data-line-11">
<p>Our task for this tutorial will be to create a simple event registration application that allows people to sign up and register for events.</p>
</div>
<div class="paragraph data-line-13">
<p>Readily obvious is the need for a class to hold information about people and events. As people register for events, these two classes will need to be associated.</p>
</div>
<div class="paragraph data-line-15">
<p>Naively we may want to come up with a domain model that looks something like the image below:</p>
</div>
<div class="imageblock text-center data-line-17">
<div class="content">
<img src="figs/NaiveUML1.PNG" alt="NaiveUML1">
</div>
</div>
<div class="paragraph data-line-19">
<p>There are numerous problems with this scheme. Some are listed below in order of severity:</p>
</div>
<div class="olist arabic data-line-21">
<ol class="arabic">
<li class="data-line-21">
<p>There is no constraint on this association. In best practice, we avoid unconstrained associations for security and cohesive behaviour reasons. To ensure our application code can only be used in the intended fashion, we must constrain all relationships between entities. In this case, there is no practical reason for events (E) and person (P) to be aware of each other. One needs to be independent.</p>
</li>
<li class="data-line-22">
<p>We can have arbitrarily many events or people registering for events. Even when the association is constrained to a single direction, person or events will have to hold an array of events or persons respectively. Storing arbitrarily large arrays when using a SQL based database is heavily discouraged. To keep this same domain model and avoid storing variable size elements such as arrays, we would need to duplicate information about event or person.</p>
</li>
<li class="data-line-23">
<p>Even when the association is constrained to a single direction, our multiplicities allow for an optional association. This might be desired behaviour (i.e. people should be able to exist in our application without an event and vice versa), but it allows for an optional association. This is not bad but it is not good practice.</p>
</li>
</ol>
</div>
<div class="paragraph data-line-25">
<p>To remedy these problems, we introduce an association class called <em>registration</em> (R) which will be associated with both Person and Event. We will also constrain these associations by making them unidirectional and necessitating that one and only one instance of person and one and only one instance of event must be associated with a registration. Simply, a regitration can only hold information about one person and one event. In this way it mediates the relationship between people and the events they register for.</p>
</div>
<div class="imageblock text-center data-line-27">
<div class="content">
<img src="figs/BetterUML1.PNG" alt="BetterUML1">
</div>
</div>
<div class="paragraph data-line-29">
<p>It may appear that registrations for events can still be duplicated (i.e. Someone can register for the same event tiwce). Addressing this concern depends on how databasing is implemented. For some implementations, the combination of a unique identifier for person and a unique identifier for event forms a unique identifier for registration. So, if a person tries to register for an event twice, the database will throw an error. In other implementations, this may not be the case as registration will be given a unique id. In this case preventing duplication is delegated to code.</p>
</div>
<div class="paragraph data-line-31">
<p>The final model can be found below and is generated by the following code:</p>
</div>
<div class="imageblock data-line-33">
<div class="content">
<img src="figs/DomainModel.PNG" alt="DomainModel">
</div>
</div>
<div class="listingblock data-line-36">
<div class="content">
<pre class="highlight"><code class="language-Umple" data-lang="Umple">class RegistrationManager
{
}

class Person
{
  name;
}

class Event
{
  name;
  Date eventDate;
  Time startTime;
  Time endTime;
}

class Registration
{
  Integer id;
  }

association {
    1 RegistrationManager registrationManager &lt;@&gt;- 0..* Registration registrations;
}

association {
    1 RegistrationManager registrationManager &lt;@&gt;- 0..* Event events;
}

association {
    1 RegistrationManager registrationManager &lt;@&gt;- 0..* Person persons;
}

association {
   0..* Registration registration -&gt;  1 Event event ;
}


association {
    0..* Registration registration -&gt;  1 Person person;
}</code></pre>
</div>
</div>
<div class="paragraph data-line-81">
<p>The addition of the overarching RegistrationManager is only necessary if there will be more than one instance of our application. This is not the case for this course so it is not necessary.</p>
</div>
<div class="paragraph data-line-83">
<p>Finally, we generate Java code by clicking the <strong>Generate Java</strong> button. Although the Umple generated Java code can be used, but is too verbose and not JPA compliant. You can see this by comparing the generated Java code to the code found in <a href="https://github.com/McGill-ECSE321-Fall2020/ecse321-tutorial-notes/raw/master/resources/Model%20Classes.zip" data-href="https://github.com/McGill-ECSE321-Fall2020/ecse321-tutorial-notes/raw/master/resources/Model%20Classes.zip">Model Classes.zip</a>.</p>
</div>
<div class="sect3 data-line-85">
<h4 id="_jpa_annotations">2.1.1. JPA Annotations</h4>
<div class="paragraph data-line-87">
<p>Next we will create a gradle project  following the steps given in <strong>Section 1.1</strong>. Your project structure should look like this.</p>
</div>
<div class="listingblock data-line-90">
<div class="content">
<pre class="highlight"><code class="language-none" data-lang="none">EventRegistration-Backend
├── build.gradle
├── settings.gradle
└── src
    ├── main
    │   ├── java
    │   │   └── ca\mcgill\ecse321\eventregistration
    │   │        └── EventRegistrationApplication.java
    │   └── resources
    │       └── application.settings
    │
    └── test
        └── java
            └── ca\mcgill\ecse321\eventregistration
                └── EventRegistrationApplicationTests</code></pre>
</div>
</div>
<div class="paragraph data-line-109">
<p>This is an exercise in being able to write JPA compliant code simply by looking at the domain model. A brief explanation for relevant JPA tags is here provided:</p>
</div>
<div class="ulist data-line-111">
<ul>
<li class="data-line-111">
<p><strong>@Entity</strong>: Placed before the class declaration to signify an entity.</p>
</li>
<li class="data-line-112">
<p><strong>@Id</strong>: Placed before the get method for the attribute that will serve as the primary identifier for the class.</p>
</li>
<li class="data-line-113">
<p><strong>@OnetoMany</strong> or <strong>@ManytoOne</strong>: Placed before get method for attribute to signify the multiplicity in associative relationship between the current class and reference class. The first word is the multiplicity of the current class, with the other representing the multiplicity of the other calss. The <em>cascade</em> property being set to <em>cascadeType.ALL</em> ensures all operations of the defining class are persisted. The <em>optional</em> property being set to false means the association the tag defines must exist. In this case, the defining class cannot exist without knowledge of the referenced class.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-115">
<p>Once your java code has been annotated, create a new folder under <em>src&gt;main&gt;java</em> called model and add the model files into that folder. Each class in our domain model should have its own file. Make sure your model files declare the package:</p>
</div>
<div class="listingblock data-line-118">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.model;</code></pre>
</div>
</div>
<div class="paragraph data-line-122">
<p>Your folder structure should now look like this:</p>
</div>
<div class="listingblock data-line-125">
<div class="content">
<pre class="highlight"><code class="language-none" data-lang="none">EventRegistration-Backend
├── build.gradle
├── settings.gradle
└── src
    ├── main
    │   ├── java
    │   │   └── ca\mcgill\ecse321\eventregistration
    │   │        ├── EventRegistrationApplication.java
    │   │        └── model
    │   │            ├── Event.java
    │   │            ├── Person.java
    │   │            ├── Registration.java
    │   │            └── RegistrationManager.java
    │   └── resources
    │       └── application.settings
    │
    └── test
        └── java
            └── ca\mcgill\ecse321\eventregistration
                └── EventRegistrationApplicationTests</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_database_communication_with_and_without_spring_framework">2.2. Database Communication With and Without Spring Framework</h3>
<div class="paragraph data-line-2">
<p>In this section we will see how to communications with the database are programmed. Don&#8217;t worry about setting up the Spring Framework or the database server for the time being. <mark><strong>The goal is to illustrate the concept and build understanding. You will not be using this in your project.</strong></mark></p>
</div>
<div class="sect3 data-line-4">
<h4 id="_crud_transactions_without_spring">2.2.1. CRUD Transactions Without Spring</h4>
<div class="olist arabic data-line-6">
<ol class="arabic">
<li class="data-line-6">
<p><strong>Verify</strong> the contents of the <code>EventRegistrationBackendApplication</code> class:</p>
<div class="listingblock data-line-9">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration;

import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.SpringApplication;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.bind.annotation.RequestMapping;

@RestController
@SpringBootApplication
public class EventRegistrationBackendApplication {

	public static void main(String[] args) {
		SpringApplication.run(EventRegistrationApplication.class, args);
	}

	@RequestMapping("/")
	public String greeting() {
		return "Hello world!";
	}
}</code></pre>
</div>
</div>
</li>
<li class="data-line-32">
<p>Create a new package in <code>src/main/java</code> and name it <code>ca.mcgill.ecse321.eventregistration.dao</code>.</p>
</li>
<li class="data-line-34">
<p>Create the <code>EventRegistrationRepository</code> class within this new package</p>
<div class="listingblock data-line-37">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dao;

import java.sql.Date;
import java.sql.Time;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.TypedQuery;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;
import org.springframework.transaction.annotation.Transactional;

import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Event;

@Repository
public class EventRegistrationRepository {

	@Autowired
	EntityManager entityManager;

	@Transactional
	public Person createPerson(String name) {
		Person p = new Person();
		p.setName(name);
		entityManager.persist(p);
		return p;
	}

	@Transactional
	public Person getPerson(String name) {
		Person p = entityManager.find(Person.class, name);
		return p;
	}

	@Transactional
	public Event createEvent(String name, Date date, Time startTime, Time endTime) {
		Event e = new Event();
		e.setName(name);
		e.setDate(date);
		e.setStartTime(startTime);
		e.setEndTime(endTime);
		entityManager.persist(e);
		return e;
	}

	@Transactional
	public Event getEvent(String name) {
		Event e = entityManager.find(Event.class, name);
		return e;
	}

}</code></pre>
</div>
</div>
</li>
<li class="data-line-94">
<p>Add a new method that gets all events before a specified date (<code>deadline</code>). Use a typed query created from an SQL command:</p>
<div class="listingblock data-line-97">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Transactional
public List&lt;Event&gt; getEventsBeforeADeadline(Date deadline) {
	TypedQuery&lt;Event&gt; q = entityManager.createQuery("select e from Event e where e.date &lt; :deadline",Event.class);
	q.setParameter("deadline", deadline);
	List&lt;Event&gt; resultList = q.getResultList();
	return resultList;
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note data-line-5">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To try the methods, you can create a JUnit test under <em>src/test/java</em>. Currently the methods in <code>EventRegistrationRepository</code> directly access the objects stored in the database via the <code>EntityManager</code> instance and these methods should implement both database operations and service business logic (including input validation&#8201;&#8212;&#8201;which we omitted in this part). In later sections, however, we will see how we can easily separate the database access and the service business logic in Spring applications.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_setting_up_a_local_postgresql_database">2.3. Setting Up a Local PostgreSQL Database</h3>
<div class="paragraph data-line-2">
<p>In this section, we will set up a local PostgreSQL database to store our application&#8217;s data.</p>
</div>
<div class="sect3 data-line-4">
<h4 id="_installation">2.3.1. Installation</h4>
<div class="paragraph data-line-5">
<p>Download PostgreSQL 14.5 from <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" class="undefined" data-href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads">https://www.enterprisedb.com/downloads/postgres-postgresql-downloads</a>. Once the download is complete, run the installer. You can stick with the default values for most screens.</p>
</div>
<div class="paragraph data-line-7">
<p>The default installation directory should be fine.</p>
</div>
<div class="imageblock data-line-9">
<div class="content">
<img src="figs/psql-setup-installation-directory.PNG" alt="PostgreSQL installation: installation directory" width="400">
</div>
</div>
<div class="paragraph data-line-11">
<p>Leave every component checked.</p>
</div>
<div class="imageblock data-line-13">
<div class="content">
<img src="figs/psql-setup-components.png" alt="PostgreSQL installation: components" width="400">
</div>
</div>
<div class="paragraph data-line-15">
<p>The default data directory should be fine.</p>
</div>
<div class="imageblock data-line-17">
<div class="content">
<img src="figs/psql-setup-data-directory.png" alt="PostgreSQL installation: data directory" width="400">
</div>
</div>
<div class="paragraph data-line-19">
<p>Choose a password. <em>IMPORTANT: do not forget this password. You will need it later.</em></p>
</div>
<div class="imageblock data-line-21">
<div class="content">
<img src="figs/psql-setup-password.png" alt="PostgreSQL installation: password" width="400">
</div>
</div>
<div class="paragraph data-line-23">
<p>The default port number should be fine. However, there&#8217;s no problem using a different port number in case a different app is using 5432 for some reason. Just remember your choice so that you know which port your app should connect to. Here is a <a href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers" data-href="https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers">list of typical TCP/UDP ports</a> and their reservation status. <strong>Do not use a port that is reserved.</strong></p>
</div>
<div class="imageblock data-line-25">
<div class="content">
<img src="figs/psql-setup-port.png" alt="PostgreSQL installation: port number" width="400">
</div>
</div>
<div class="paragraph data-line-27">
<p>The default locale should be fine.</p>
</div>
<div class="imageblock data-line-29">
<div class="content">
<img src="figs/psql-setup-locale.png" alt="PostgreSQL installation: locale" width="400">
</div>
</div>
<div class="paragraph data-line-31">
<p>The summary might look something like this:</p>
</div>
<div class="imageblock data-line-33">
<div class="content">
<img src="figs/psql-setup-summary.png" alt="PostgreSQL installation: summary" width="400">
</div>
</div>
<div class="paragraph data-line-35">
<p>There&#8217;s no need for other tools, so you can skip the Stack Builder after the installation by unchecking the checkbox.</p>
</div>
<div class="imageblock data-line-37">
<div class="content">
<img src="figs/psql-setup-skip-stack-builder.png" alt="PostgreSQL installation: skip Stack Builder" width="400">
</div>
</div>
</div>
<div class="sect3 data-line-40">
<h4 id="_creating_a_database">2.3.2. Creating a Database</h4>
<div class="paragraph data-line-41">
<p>Once PostgreSQL is installed, you should be able to connect to your local instance by running the command <code>psql -U postgres</code> and entering your password (I hope you haven&#8217;t forgotten it already).</p>
</div>
<div class="paragraph data-line-43">
<p>A server can host multiple databases. Create a new database for the event registration app using the command</p>
</div>
<div class="listingblock data-line-44">
<div class="content">
<pre class="highlight"><code>CREATE DATABASE event_registration;</code></pre>
</div>
</div>
<div class="paragraph data-line-48">
<p>Check that the database exists by running the command <code>\l</code>:</p>
</div>
<div class="imageblock data-line-7">
<div class="content">
<img src="figs/psql-create-database.png" alt="PostgreSQL create database">
</div>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_setting_up_a_spring_boot_project">2.4. Setting up a Spring Boot Project</h3>
<div class="paragraph data-line-2">
<p>In this section, we will use Spring Initializr to quickly generate the folder structure and some files for a new Spring Boot project.</p>
</div>
<div class="olist arabic data-line-4">
<ol class="arabic">
<li class="data-line-4">
<p>Go to <a href="https://start.spring.io/" class="undefined" data-href="https://start.spring.io/">https://start.spring.io/</a>.</p>
</li>
<li class="data-line-5">
<p>Set the project type to Gradle.</p>
</li>
<li class="data-line-6">
<p>Leave the Spring Boot version at the default value.</p>
</li>
<li class="data-line-7">
<p>Set the names for the group, package, etc.</p>
</li>
<li class="data-line-8">
<p>Set the Java version.</p>
</li>
<li class="data-line-9">
<p>Add the following dependencies:</p>
<div class="olist loweralpha data-line-10">
<ol class="loweralpha" type="a">
<li class="data-line-10">
<p>web</p>
</li>
<li class="data-line-11">
<p>data-jpa</p>
</li>
<li class="data-line-12">
<p>postgresql</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="imageblock data-line-14">
<div class="content">
<img src="figs/Spring-Initializr.png" alt="Spring Initializr">
</div>
</div>
<div class="paragraph data-line-16">
<p>Click "GENERATE" and you should get a zip file with the following files and folders.</p>
</div>
<div class="listingblock data-line-18">
<div class="content">
<pre class="highlight"><code>.
├── HELP.md
├── build.gradle
├── gradle
│   └── wrapper
│       ├── gradle-wrapper.jar
│       └── gradle-wrapper.properties
├── gradlew
├── gradlew.bat
├── settings.gradle
└── src
    ├── main
    │   ├── java
    │   │   └── ca
    │   │       └── mcgill
    │   │           └── ecse321
    │   │               └── eventregistration
    │   │                   └── EventRegistrationApplication.java
    │   └── resources
    │       ├── application.properties
    │       ├── static
    │       └── templates
    └── test
        └── java
            └── ca
                └── mcgill
                    └── ecse321
                        └── eventregistration
                            └── EventRegistrationApplicationTests.java</code></pre>
</div>
</div>
<div class="paragraph data-line-50">
<p>Open <code>application.properties</code> and write the following:</p>
</div>
<div class="listingblock data-line-51">
<div class="content">
<pre class="highlight"><code>server.port = ${PORT:8080}

spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update

spring.datasource.url=jdbc:postgresql://localhost:5432/event_registration
spring.datasource.username=postgres
spring.datasource.password=PASSWORD</code></pre>
</div>
</div>
<div class="paragraph data-line-9">
<p>(<code>PASSWORD</code> is the password you chose while setting up the local database.)</p>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_crud_repositories">2.5. CRUD Repositories</h3>
<div class="paragraph data-line-3">
<p>Previously in <em>Section 2.2</em> we saw an example using the <code>ca.mcgill.ecse321.eventregistration.dao.EventRegistrationRepository</code> class and an instance of <code>javax.persistence.EntityManager</code> from Hibernate, to directly implement the required operations related to saving/retrieving data to/from a database (Create, Read, Update, and Delete operations, shortly, CRUD).</p>
</div>
<div class="paragraph data-line-5">
<p>In this section will introduce the Spring framework&#8217;s inbuilt support for such CRUD operations via the <code>org.springframework.data.repository.CrudRepository</code> interface and will show how to use such repositories to implement your use cases in so-called <em>service</em> classes. <strong>You will be using this scheme for your project.</strong></p>
</div>
<div class="paragraph data-line-7">
<p>If you would like to, you can obtain a version of the project that already has the code for the backend and model classes from the previous tutorials <a href="https://github.com/McGill-ECSE321-Fall2020/eventregistration" data-href="https://github.com/McGill-ECSE321-Fall2020/eventregistration">here</a>.</p>
</div>
<div class="sect3 data-line-9">
<h4 id="_creating_a_crud_repository">2.5.1. Creating a CRUD Repository</h4>
<div class="olist arabic data-line-11">
<ol class="arabic">
<li class="data-line-11">
<p>Create a new interface <code>PersonRepository</code> in the <code>ca.mcgill.ecse321.eventregistration.dao</code> package and extend the <code>CrudRepository&lt;Person, String&gt;</code> interface</p>
</li>
<li class="data-line-13">
<p>Create a new method <code>Person findByName(String name)</code></p>
<div class="listingblock data-line-16">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dao;

import org.springframework.data.repository.CrudRepository;

import ca.mcgill.ecse321.eventregistration.model.Person;

public interface PersonRepository extends CrudRepository&lt;Person, String&gt;{

	Person findPersonByName(String name);

}</code></pre>
</div>
</div>
</li>
<li class="data-line-30">
<p>Since Spring supports automated JPA Query creation from method names (see <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation" data-href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation">possible language constructs here</a>) <strong>we don&#8217;t need to implement the interface manually</strong>, Spring JPA will create the corresponding queries runtime! This way we don&#8217;t need to write SQL queries either.</p>
</li>
<li class="data-line-32">
<p>Create interfaces for the <code>Event</code> and <code>Registration</code> classes as well<br>
<em>EventRepository.java</em>:</p>
<div class="listingblock data-line-36">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dao;

import org.springframework.data.repository.CrudRepository;

import ca.mcgill.ecse321.eventregistration.model.Event;

public interface EventRepository extends CrudRepository&lt;Event, String&gt; {

	Event findEventByName(String name);

}</code></pre>
</div>
</div>
<div class="paragraph data-line-50">
<p><em>RegistrationRepository.java</em>:</p>
</div>
<div class="listingblock data-line-53">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dao;

import java.util.List;

import org.springframework.data.repository.CrudRepository;

import ca.mcgill.ecse321.eventregistration.model.Event;
import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Registration;

public interface RegistrationRepository extends CrudRepository&lt;Registration, Integer&gt; {

	List&lt;Registration&gt; findByPerson(Person personName);

	boolean existsByPersonAndEvent(Person person, Event eventName);

	Registration findByPersonAndEvent(Person person, Event eventName);

}</code></pre>
</div>
</div>
</li>
<li class="data-line-75">
<p>Finally, create a new package in <code>src/main/java</code> and name it <code>ca.mcgill.ecse321.eventregistration.model</code>. Place all the model classes generated in the Step 2.4. By now, all the errors in all other packages should be resolved automatically. In the end, you should have the given below structure in terms of packages.<br></p>
</li>
</ol>
</div>
<div class="imageblock data-line-77">
<div class="content">
<img src="figs/package-structure-1.png" alt="Package Structure" width="400">
</div>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_testing_the_persistence_layer">2.6. Testing the Persistence Layer</h3>
<div class="paragraph data-line-2">
<p>Now we will write some tests to verify that our persistence layer is working as expected.</p>
</div>
<div class="sect3 data-line-4">
<h4 id="_writing_a_test">2.6.1. Writing a Test</h4>
<div class="paragraph data-line-5">
<p>The basic structure of a repository layer test is:</p>
</div>
<div class="olist arabic data-line-7">
<ol class="arabic">
<li class="data-line-7">
<p>Create a new object.</p>
</li>
<li class="data-line-8">
<p>Save the object to the database using the repository.</p>
</li>
<li class="data-line-9">
<p>Read the object from the database using the repository.</p>
</li>
<li class="data-line-10">
<p>Assert that the object from the database has the correct attributes.</p>
</li>
</ol>
</div>
<div class="paragraph data-line-12">
<p>Use dependency injection (via the <code>@Autowired</code> annotation) to get an instance of your repository. Also add the <code>@Test</code> annotation to each test method.</p>
</div>
<div class="paragraph data-line-14">
<p>You will want to clear the database after each run so that you don&#8217;t waste storage space and avoid violating any unique constraints. Define a method <code>clearDatabase()</code> with the annotation <code>@AfterEach</code> that clears all relevant tables. <strong>Make sure you clear your dependent classes prior to clearing your independent classes, as operations <em>only</em> cascade if the associative relationship is a composition!</strong></p>
</div>
<div class="paragraph data-line-16">
<p>The test class for the <code>PersonRepository</code> should be similar to the following code. The package and import statements have been omited for clarity.</p>
</div>
<div class="listingblock data-line-18">
<div class="content">
<pre class="highlight"><code>@SpringBootTest
public class PersonRepositoryTests {
	@Autowired
	private PersonRepository personRepository;

	@AfterEach
	public void clearDatabase() {
		personRepository.deleteAll();
	}

	@Test
	public void testPersistAndLoadPerson() {
		// Create object
		String name = "Anakin Skywalker";
		Person anakin = new Person();
		anakin.setName(name);

		// Save object
		anakin = personRepository.save(anakin);
		int id = anakin.getId();

		// Read object from database
		anakin = personRepository.findPersonById(id);

		// Assert that object has correct attributes
		assertNotNull(anakin);
		assertEquals(name, anakin.getName());
	}
}</code></pre>
</div>
</div>
<div class="paragraph data-line-50">
<p>The test class for the <code>RegistrationRepository</code> should look something like this:</p>
</div>
<div class="listingblock data-line-51">
<div class="content">
<pre class="highlight"><code>@SpringBootTest
public class RegistrationRepositoryTests {
	@Autowired
	private PersonRepository personRepository;
	@Autowired
	private EventRepository eventRepository;
	@Autowired
	private RegistrationRepository registrationRepository;

	@AfterEach
	public void clearDatabase() {
		// Delete the registrations first to avoid violating not-null constraint
		registrationRepository.deleteAll();

		personRepository.deleteAll();
		eventRepository.deleteAll();
	}

	@Test
	public void testPersistAndLoadRegistration() {
		String eventName = "Order 66";
		Date date = Date.valueOf("2022-09-06");
		Time startTime = Time.valueOf("16:00:00");
		Time endTime = Time.valueOf("17:00:00");
		Event event = new Event();
		event.setName(eventName);
		event.setEventDate(date);
		event.setStartTime(startTime);
		event.setEndTime(endTime);
		// You need to manually save this before saving the registration: Hibernate doesn't seem to do it for you
		eventRepository.save(event);

		String participantName = "Anakin Skywalker";
		Person participant = new Person();
		participant.setName(participantName);
		participant = personRepository.save(participant);
		int participantId = participant.getId();

		Registration registration = new Registration();
		registration.setEvent(event);
		registration.setParticipant(participant);

		registration = registrationRepository.save(registration);
		int registrationId = registration.getId();

		registration = null;
		event = null;
		participant = null;

		registration = registrationRepository.findRegistrationById(registrationId);

		assertNotNull(registration);
		assertEquals(registrationId, registration.getId());

		assertNotNull(registration.getEvent());
		assertEquals(eventName, registration.getEvent().getName());

		assertNotNull(registration.getParticipant());
		assertEquals(participantId, registration.getParticipant().getId());
	}
}</code></pre>
</div>
</div>
<div class="paragraph data-line-116">
<p>Creating a class to test the persistence of <code>Event</code> objects is left as an exercise. It is similar to the test class for <code>Person</code> objects.</p>
</div>
</div>
<div class="sect3 data-line-119">
<h4 id="_running_the_tests">2.6.2. Running the Tests</h4>
<div class="paragraph data-line-120">
<p>To run the tests, <code>cd</code> into the <code>EventRegistration-Backend</code> folder and issue the command <code>./gradlew test</code>.</p>
</div>
</div>
<div class="sect3 data-line-123">
<h4 id="_debugging_failing_tests">2.6.3. Debugging Failing Tests</h4>
<div class="paragraph data-line-124">
<p>You will almost certainly encounter failing tests at some point. When this happens, it is usually helpful to read the stack trace and see if there are any helpful hints. At first you will probably find that the stack traces are short and not very informative. Add the following snippet inside the <code>test</code> task in your <code>build.gradle</code> file:</p>
</div>
<div class="listingblock data-line-125">
<div class="content">
<pre class="highlight"><code>testLogging {
	exceptionFormat "full"
}</code></pre>
</div>
</div>
<div class="paragraph data-line-130">
<p>Re-run the tests and you should see much longer stack traces with helpful hints. Focus on the "Caused by:" parts.</p>
</div>
<div class="paragraph data-line-132">
<p>If <em>all</em> the tests are failing (including <code>contextLoads()</code>), it means your project failed to start. This is generally because it failed to connect to the database or there is an issue with your model.</p>
</div>
<div class="sect4 data-line-134">
<h5 id="_common_errors">Common Errors</h5>
<div class="ulist data-line-135">
<ul>
<li class="data-line-135">
<p>Missing or badly-formatted data in <code>application.properties</code>. You need a database driver, the URL of an existing database, a username, and a password. The database URL is particularly easy to mess up: it needs to follow the format <code>jdbc:postgresql://localhost:port/database_name</code>.</p>
</li>
<li class="data-line-136">
<p>Using reserved keywords for class names (e.g., <code>User</code>). This will result in a nasty SQL syntax error.</p>
</li>
<li class="data-line-137">
<p>Incorrectly named repository methods. For example, if you have a property <code>eventName</code> and you call your repository method <code>findEventByName()</code>, Spring will complain that there&#8217;s no property called <code>name</code> in the <code>Event</code> class.</p>
</li>
<li class="data-line-138">
<p>Missing annotations. For example, if you forget an <code>@Id</code> annotation, Spring will complain that there&#8217;s no unique identifier for your class.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_creating_restful_web_services_in_spring">2.7. Creating RESTful Web Services in Spring</h3>
<div class="paragraph data-line-3">
<p>The following steps provide guidance on (1) implementing business logic that implements the required functionality (classes annotated with <code>@Service</code>) and (2) exposing them using a REST API in the context of the Event Registration Application (classes annotated with <code>@RestController</code>).</p>
</div>
<div class="sect3 data-line-5">
<h4 id="_implementing_service_methods">2.7.1. Implementing Service Methods</h4>
<div class="paragraph data-line-7">
<p>We implement use-cases in <em>service classes</em> by using the DAOs for each data type of the domain model.</p>
</div>
<div class="olist arabic data-line-9">
<ol class="arabic">
<li class="data-line-9">
<p>In <em>src/main/java</em>, create a new package <code>ca.mcgill.ecse321.eventregistration.service</code>.</p>
</li>
<li class="data-line-11">
<p>In this package, create the <code>EventRegistrationService</code> class as shown below</p>
<div class="listingblock data-line-14">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.service;

import java.sql.Date;
import java.sql.Time;
import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import ca.mcgill.ecse321.eventregistration.dao.EventRepository;
import ca.mcgill.ecse321.eventregistration.dao.PersonRepository;
import ca.mcgill.ecse321.eventregistration.dao.RegistrationRepository;
import ca.mcgill.ecse321.eventregistration.model.Event;
import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Registration;

@Service
public class EventRegistrationService {

	@Autowired
	EventRepository eventRepository;
	@Autowired
	PersonRepository personRepository;
	@Autowired
	RegistrationRepository registrationRepository;

	@Transactional
	public Person createPerson(String name) {
		Person person = new Person();
		person.setName(name);
		personRepository.save(person);
		return person;
	}

	@Transactional
	public Person getPerson(String name) {
		Person person = personRepository.findPersonByName(name);
		return person;
	}

	@Transactional
	public List&lt;Person&gt; getAllPersons() {
		return toList(personRepository.findAll());
	}

	@Transactional
	public Event createEvent(String name, Date date, Time startTime, Time endTime) {
		Event event = new Event();
		event.setName(name);
		event.setDate(date);
		event.setStartTime(startTime);
		event.setEndTime(endTime);
		eventRepository.save(event);
		return event;
	}

	@Transactional
	public Event getEvent(String name) {
		Event event = eventRepository.findEventByName(name);
		return event;
	}

	@Transactional
	public List&lt;Event&gt; getAllEvents() {
		return toList(eventRepository.findAll());
	}

	@Transactional
	public Registration register(Person person, Event event) {
		Registration registration = new Registration();
		registration.setId(person.getName().hashCode() * event.getName().hashCode());
		registration.setPerson(person);
		registration.setEvent(event);

		registrationRepository.save(registration);

		return registration;
	}

	@Transactional
	public List&lt;Registration&gt; getAllRegistrations(){
		return toList(registrationRepository.findAll());
	}

	@Transactional
	public List&lt;Event&gt; getEventsAttendedByPerson(Person person) {
		List&lt;Event&gt; eventsAttendedByPerson = new ArrayList&lt;&gt;();
		for (Registration r : registrationRepository.findByPerson(person)) {
			eventsAttendedByPerson.add(r.getEvent());
		}
		return eventsAttendedByPerson;
	}

	private &lt;T&gt; List&lt;T&gt; toList(Iterable&lt;T&gt; iterable){
		List&lt;T&gt; resultList = new ArrayList&lt;T&gt;();
		for (T t : iterable) {
			resultList.add(t);
		}
		return resultList;
	}

}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-122">
<h4 id="_exposing_service_functionality_via_a_restful_api">2.7.2. Exposing Service Functionality via a RESTful API</h4>
<div class="sect4 data-line-124">
<h5 id="_building_a_restful_web_service_using_a_controller_and_data_transfer_objects">Building a RESTful Web Service Using a Controller and Data Transfer Objects</h5>
<div class="olist arabic data-line-126">
<ol class="arabic">
<li class="data-line-126">
<p>We first create a new package <code>ca.mcgill.ecse321.eventregistration.controller</code> in EventRegistration-Backend and then create <code>EventRegistrationRestController</code> class inside it. We add the annotation <code>@RestController</code> to the controller class so that HTTP requests can be dispacthed to <code>EventRegistrationRestController</code> class. In addition, we enabled the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" data-href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing</a> for any domain using the <code>@CrossOrigin</code> annotation on the REST controller class.</p>
<div class="listingblock data-line-129">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.controller;

import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.RestController;

@CrossOrigin(origins = "*")
@RestController
public class EventRegistrationRestController {

	@Autowired
	private EventRegistrationService service;

}</code></pre>
</div>
</div>
</li>
<li class="data-line-145">
<p>We further create another package ca.mcgill.ecse321.eventregistration.dto and create the below Data Transfer Object (DTO) classes inside that package. First we create EventDto.java.</p>
<div class="admonitionblock important data-line-148">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Data Access Object (DAO) != Data Transfer Object (DTO). These two are completely separate concepts, as you will also see below. These two should not be confused with each other.
</td>
</tr>
</table>
</div>
<div class="listingblock data-line-151">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dto;

import java.sql.Date;
import java.sql.Time;

public class EventDto {

	private String name;
	private Date eventDate;
	private Time startTime;
	private Time endTime;

	public EventDto() {
	}

	public EventDto(String name) {
		this(name, Date.valueOf("1971-01-01"), Time.valueOf("00:00:00"), Time.valueOf("23:59:59"));
	}

	public EventDto(String name, Date eventDate, Time startTime, Time endTime) {
		this.name = name;
		this.eventDate = eventDate;
		this.startTime = startTime;
		this.endTime = endTime;
	}

	public String getName() {
		return name;
	}

	public Date getEventDate() {
		return eventDate;
	}

	public Time getStartTime() {
		return startTime;
	}

	public Time getEndTime() {
		return endTime;
	}

}</code></pre>
</div>
</div>
</li>
<li class="data-line-197">
<p>Next, we create <code>PersonDto</code> Java class.</p>
<div class="listingblock data-line-200">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dto;

import java.util.Collections;
import java.util.List;

public class PersonDto {

	private String name;
	private List&lt;EventDto&gt; events;

	public PersonDto() {
	}

	@SuppressWarnings("unchecked")
	public PersonDto(String name) {
		this(name, Collections.EMPTY_LIST);
	}

	public PersonDto(String name, List&lt;EventDto&gt; arrayList) {
		this.name = name;
		this.events = arrayList;
	}

	public String getName() {
		return name;
	}

	public List&lt;EventDto&gt; getEvents() {
		return events;
	}

	public void setEvents(List&lt;EventDto&gt; events) {
		this.events = events;
	}

}</code></pre>
</div>
</div>
</li>
<li class="data-line-239">
<p>Finally, we create <code>RegistrationDto</code> Java class.</p>
<div class="listingblock data-line-242">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.dto;

public class RegistrationDto {

	private PersonDto person;
	private EventDto event;

	public RegistrationDto() {
	}

	public RegistrationDto(PersonDto person, EventDto event) {
		this.person = person;
		this.event = event;
	}

	public PersonDto getperson() {
		return person;
	}

	public void setperson(PersonDto person) {
		this.person = person;
	}

	public EventDto getEvent() {
		return event;
	}

	public void setEvent(EventDto event) {
		this.event = event;
	}
}</code></pre>
</div>
</div>
</li>
<li class="data-line-276">
<p>We start adding the methods in the <code>EventRegistrationRestController</code> class. Also, we will add annotaions to map HTTP requests.</p>
<div class="admonitionblock tip data-line-279">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
In Spring Tools Suite (a.k.a. Eclipse), you can organize Java imports with kbd:[Ctrl+Shift+o]
</td>
</tr>
</table>
</div>
<div class="listingblock data-line-282">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@GetMapping(value = { "/persons", "/persons/" })
public List&lt;PersonDto&gt; getAllPersons() {
	return service.getAllPersons().stream().map(p -&gt; convertToDto(p)).collect(Collectors.toList());
}

@PostMapping(value = { "/persons/{name}", "/persons/{name}/" })
public PersonDto createPerson(@PathVariable("name") String name) throws IllegalArgumentException {
	Person person = service.createPerson(name);
	return convertToDto(person);
}</code></pre>
</div>
</div>
<div class="paragraph data-line-295">
<p>The <code>@RequestMapping</code> annotation is used to map HTTP requests to Spring Controller methods. Since, <code>@RequestMapping</code> maps all HTTP operations by default. We can use <code>@GetMapping</code>, <code>@PostMapping</code> and so forth to narrow this mapping to specific HTTP operations.</p>
</div>
<div class="paragraph data-line-297">
<p>Moreover, in the above snippet, we use the <code>value</code> parameter of <code>@PathVariable</code> annotation to bind the value of the query string parameter name into the name parameter of the <code>createPerson()</code> method.</p>
</div>
</li>
<li class="data-line-299">
<p>You can add other methods similarly with appropriate mappings.</p>
<div class="listingblock data-line-302">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@PostMapping(value = { "/events/{name}", "/events/{name}/" })
public EventDto createEvent(@PathVariable("name") String name, @RequestParam Date date,
@RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.TIME, pattern = "HH:mm") LocalTime startTime,
@RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.TIME, pattern = "HH:mm") LocalTime endTime)
throws IllegalArgumentException {
	Event event = service.createEvent(name, date, Time.valueOf(startTime), Time.valueOf(endTime));
	return convertToDto(event);
}

@GetMapping(value = { "/events", "/events/" })
public List&lt;EventDto&gt; getAllEvents() {
	List&lt;EventDto&gt; eventDtos = new ArrayList&lt;&gt;();
	for (Event event : service.getAllEvents()) {
		eventDtos.add(convertToDto(event));
	}
	return eventDtos;
}

@PostMapping(value = { "/register", "/register/" })
public RegistrationDto registerPersonForEvent(@RequestParam(name = "person") PersonDto pDto,
	@RequestParam(name = "event") EventDto eDto) throws IllegalArgumentException {
	Person p = service.getPerson(pDto.getName());
	Event e = service.getEvent(eDto.getName());

	Registration r = service.register(p, e);
	return convertToDto(r, p, e);
}

@GetMapping(value = { "/registrations/person/{name}", "/registrations/person/{name}/" })
public List&lt;EventDto&gt; getEventsOfPerson(@PathVariable("name") PersonDto pDto) {
	Person p = convertToDomainObject(pDto);
	return createEventDtosForPerson(p);
}

@GetMapping(value = { "/events/{name}", "/events/{name}/" })
public EventDto getEventByName(@PathVariable("name") String name) throws IllegalArgumentException {
	return convertToDto(service.getEvent(name));
}

private EventDto convertToDto(Event e) {
	if (e == null) {
		throw new IllegalArgumentException("There is no such Event!");
	}
	EventDto eventDto = new EventDto(e.getName(),e.getDate(),e.getStartTime(),e.getEndTime());
	return eventDto;
}

private PersonDto convertToDto(Person p) {
	if (p == null) {
		throw new IllegalArgumentException("There is no such Person!");
	}
	PersonDto personDto = new PersonDto(p.getName());
	personDto.setEvents(createEventDtosForPerson(p));
	return personDto;
}

private RegistrationDto convertToDto(Registration r, Person p, Event e) {
	EventDto eDto = convertToDto(e);
	PersonDto pDto = convertToDto(p);
	return new RegistrationDto(pDto, eDto);
}

private Person convertToDomainObject(PersonDto pDto) {
	List&lt;Person&gt; allPersons = service.getAllPersons();
	for (Person person : allPersons) {
		if (person.getName().equals(pDto.getName())) {
			return person;
		}
	}
	return null;
}

private List&lt;EventDto&gt; createEventDtosForPerson(Person p) {
	List&lt;Event&gt; eventsForPerson = service.getEventsAttendedByPerson(p);
	List&lt;EventDto&gt; events = new ArrayList&lt;&gt;();
	for (Event event : eventsForPerson) {
		events.add(convertToDto(event));
	}
	return events;
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4 data-line-387">
<h5 id="_trying_smoke_testing_of_the_application">Trying (Smoke Testing of) the Application</h5>
<div class="paragraph data-line-389">
<p>We can see if our application is able to respond to HTTP requests using, e.g., the Postman (Chrome), RESTClient browser plugin (Firefox), Advanced Rest Client (Firefox), or the command line tool called <code>curl</code>.</p>
</div>
<div class="paragraph data-line-391">
<p>Once you launch the client, you can specify the path and select the method as shown in the below figures.</p>
</div>
<div class="imageblock data-line-393">
<div class="content">
<img src="figs/RestClient1.png" alt="Post method on REST Client" width="1000">
</div>
</div>
<div class="paragraph data-line-395">
<p>Once we use POST, the record is persisted and then we can use the GET method to retrive the same.</p>
</div>
<div class="imageblock data-line-397">
<div class="content">
<img src="figs/RestClient2.png" alt="GET method on REST Client" width="1000">
</div>
</div>
<div class="paragraph data-line-399">
<p>Similary, we can try other methods as well.</p>
</div>
</div>
</div>
<div class="sect3 data-line-402">
<h4 id="_spring_data_an_alternative_way_to_expose_application_data_via_a_restful_interface">2.7.3. Spring Data - an Alternative Way to Expose Application Data via a RESTful Interface</h4>
<div class="paragraph data-line-404">
<p>The advantage of using <em>Spring Data Rest</em> is that it can remove a lot of boilerplate compared to the previous sections. Spring would automatically create endpoints for classes, such as <code>/events</code> and <code>/person</code> in the Event Registration example. In this case, implementing proper error handling may require some extra effort (not discussed here).</p>
</div>
<div class="admonitionblock note data-line-407">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This section presents an alternative way of exposing your data via a REST API. <strong>You do not have to use this method</strong> if you do not think that it fits your design.
</td>
</tr>
</table>
</div>
<div class="olist arabic data-line-409">
<ol class="arabic">
<li class="data-line-409">
<p>Add the dependency 'spring-boot-starter-data-rest' in <em>build.gradle</em> file of your backend. It is required to expose Spring Data repositories over REST using Spring Data REST. Update your <code>dependencies</code> section as shown below:</p>
<div class="listingblock data-line-412">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	implementation 'org.springframework.boot:spring-boot-starter-data-rest'

	runtimeOnly 'org.postgresql:postgresql'
	testImplementation('org.springframework.boot:spring-boot-starter-test') {
		exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
	}
}</code></pre>
</div>
</div>
</li>
<li class="data-line-425">
<p>We have already added the dependency <code>spring-boot-starter-data-rest</code> exposes DAOs over RESTful endpoints using Spring Data REST.</p>
</li>
<li class="data-line-427">
<p>Next, we can go to repository interfaces and add a <code>@RepositoryRestResource</code> annotaion.</p>
<div class="listingblock data-line-430">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// REST endpoint specification
@RepositoryRestResource(collectionResourceRel = "person_data", path = "person_data")
public interface PersonRepository extends CrudRepository&lt;Person, String&gt;{

	Person findPersonByName(String name);

}</code></pre>
</div>
</div>
</li>
<li class="data-line-440">
<p>Finally, we can access this REST API (<code><a href="http://localhost:8080/person_data" class="undefined" data-href="http://localhost:8080/person_data">http://localhost:8080/person_data</a></code>) in the browser or REST Client and will receive the JSON as shown below.</p>
<div class="imageblock data-line-442">
<div class="content">
<img src="figs/RestClient3.png" alt="Post method on REST Client" width="1000">
</div>
</div>
</li>
<li class="data-line-444">
<p>Exercise: turn on this <em>Spring Data JPA</em> feature for events and registrations, too.</p>
</li>
<li class="data-line-446">
<p>Question: what information do we see in the response?</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_testing_service_methods_in_backend">2.8. Testing Service Methods in Backend</h3>
<div class="sect3 data-line-3">
<h4 id="_service_unit_testing_setup_with_mockito">2.8.1. Service Unit Testing Setup with Mockito</h4>
<div class="paragraph data-line-5">
<p>We need extra dependencies to support testing of the business methods in isolation.</p>
</div>
<div class="olist arabic data-line-7">
<ol class="arabic">
<li class="data-line-7">
<p>Add the following dependencies to the project:</p>
<div class="listingblock data-line-10">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">testImplementation 'org.mockito:mockito-core:2.+'
testImplementation 'org.mockito:mockito-junit-jupiter:2.18.3'

testRuntime 'org.junit.jupiter:junit-jupiter-engine:5.3.1'</code></pre>
</div>
</div>
<div class="admonitionblock tip data-line-18">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Finding configuration settings for your Gradle/Maven projects is very simple by searaching for them on MVNRepository: <a href="https://mvnrepository.com/" class="undefined" data-href="https://mvnrepository.com/">https://mvnrepository.com/</a>
</td>
</tr>
</table>
</div>
</li>
<li class="data-line-20">
<p>If you also would like to run your project from Eclipse, add an additional dependency:</p>
<div class="listingblock data-line-23">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">testImplementation 'org.junit.platform:junit-platform-launcher:1.4.1'</code></pre>
</div>
</div>
</li>
<li class="data-line-29">
<p>Create a test class (in case you don&#8217;t already have one) <code>TestEventRegistrationService</code> in the corresponding package under <code>src/test/java</code>:</p>
<div class="listingblock data-line-32">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.eventregistration.service;

import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.junit.jupiter.MockitoExtension;


@ExtendWith(MockitoExtension.class)
public class TestEventRegistrationService {

}</code></pre>
</div>
</div>
</li>
<li class="data-line-45">
<p>Build your project to ensure its dependencies are correctly loaded.</p>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-47">
<h4 id="_implementing_unit_tests_for_service_class">2.8.2. Implementing Unit Tests for Service Class</h4>
<div class="olist arabic data-line-49">
<ol class="arabic">
<li class="data-line-49">
<p>Add the following static imports for methods:</p>
<div class="listingblock data-line-52">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNull;
import static org.junit.jupiter.api.Assertions.fail;
import static org.mockito.ArgumentMatchers.any;
import static org.mockito.ArgumentMatchers.anyString;
import static org.mockito.Mockito.lenient;
import static org.mockito.Mockito.when;</code></pre>
</div>
</div>
</li>
<li class="data-line-62">
<p>Add the following imports to the test class:</p>
<div class="listingblock data-line-65">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import java.sql.Date;
import java.sql.Time;
import java.time.LocalTime;
import java.time.format.DateTimeFormatter;
import java.util.Calendar;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.invocation.InvocationOnMock;
import org.mockito.junit.jupiter.MockitoExtension;
import org.mockito.stubbing.Answer;

import ca.mcgill.ecse321.eventregistration.dao.EventRepository;
import ca.mcgill.ecse321.eventregistration.dao.PersonRepository;
import ca.mcgill.ecse321.eventregistration.dao.RegistrationRepository;
import ca.mcgill.ecse321.eventregistration.model.Event;
import ca.mcgill.ecse321.eventregistration.model.Person;
import ca.mcgill.ecse321.eventregistration.model.Registration;</code></pre>
</div>
</div>
</li>
<li class="data-line-91">
<p>Create the DAO mock for person</p>
<div class="listingblock data-line-94">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Mock
private PersonRepository personDao;

@InjectMocks
private EventRegistrationService service;

private static final String PERSON_KEY = "TestPerson";

@BeforeEach
public void setMockOutput() {
    lenient().when(personDao.findPersonByName(anyString())).thenAnswer( (InvocationOnMock invocation) -&gt; {
        if(invocation.getArgument(0).equals(PERSON_KEY)) {
            Person person = new Person();
            person.setName(PERSON_KEY);
            return person;
        } else {
            return null;
        }
    });
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note data-line-117">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>lenient()</code> tells Mockito not to warn us if we set up unnecessary mocks. You may prefer not to use <code>lenient()</code> to get those warnings. In that case, you will probably need to define the mock behaviour for each test separately. See <a href="https://github.com/McGill-ECSE321-Fall2022/EventRegistration-Monday/blob/main/EventRegistration-Backend/src/test/java/ca/mcgill/ecse321/eventregistration/service/PersonServiceTests.java" class="undefined" data-href="https://github.com/McGill-ECSE321-Fall2022/EventRegistration-Monday/blob/main/EventRegistration-Backend/src/test/java/ca/mcgill/ecse321/eventregistration/service/PersonServiceTests.java">https://github.com/McGill-ECSE321-Fall2022/EventRegistration-Monday/blob/main/EventRegistration-Backend/src/test/java/ca/mcgill/ecse321/eventregistration/service/PersonServiceTests.java</a> for an example of unit tests without <code>lenient()</code>.
</td>
</tr>
</table>
</div>
<div class="olist arabic data-line-119">
<ol class="arabic">
<li class="data-line-119">
<p>Add test cases from the <a href="https://gist.githubusercontent.com/imbur/d8836dc9f44ece65186a43ac80a259fd/raw/ff59449ad4dfadfc2c54bb317649300f6ae2409c/TestEventRegistrationService.java" data-href="https://gist.githubusercontent.com/imbur/d8836dc9f44ece65186a43ac80a259fd/raw/ff59449ad4dfadfc2c54bb317649300f6ae2409c/TestEventRegistrationService.java">complete test suite that is available from here</a>.</p>
</li>
<li class="data-line-121">
<p>Run the tests as JUnit/Gradle tests and interpret the test error messages! You should see only a few (at least one) tests passing.</p>
</li>
<li class="data-line-123">
<p>Update the implementation (i.e., replace the current service method codes with the ones provided below) of the following methods with input validation in the <code>EventRegistrationService</code> service class to make the tests pass (we are rapid simulating a TDD process&#8201;&#8212;&#8201;TDD stands for <em>Test-Driven Development</em>)</p>
<div class="listingblock data-line-126">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Transactional
public Person createPerson(String name) {
	if (name == null || name.trim().length() == 0) {
		throw new IllegalArgumentException("Person name cannot be empty!");
	}
	Person person = new Person();
	person.setName(name);
	personRepository.save(person);
	return person;
}

@Transactional
public Person getPerson(String name) {
    if (name == null || name.trim().length() == 0) {
        throw new IllegalArgumentException("Person name cannot be empty!");
    }
    Person person = personRepository.findPersonByName(name);
    return person;
}

@Transactional
public Event getEvent(String name) {
    if (name == null || name.trim().length() == 0) {
        throw new IllegalArgumentException("Event name cannot be empty!");
    }
    Event event = eventRepository.findEventByName(name);
    return event;
}

@Transactional
public Event createEvent(String name, Date date, Time startTime, Time endTime) {
    // Input validation
    String error = "";
    if (name == null || name.trim().length() == 0) {
        error = error + "Event name cannot be empty! ";
    }
    if (date == null) {
        error = error + "Event date cannot be empty! ";
    }
    if (startTime == null) {
        error = error + "Event start time cannot be empty! ";
    }
    if (endTime == null) {
        error = error + "Event end time cannot be empty! ";
    }
    if (endTime != null &amp;&amp; startTime != null &amp;&amp; endTime.before(startTime)) {
        error = error + "Event end time cannot be before event start time!";
    }
    error = error.trim();
    if (error.length() &gt; 0) {
        throw new IllegalArgumentException(error);
    }

    Event event = new Event();
    event.setName(name);
    event.setDate(date);
    event.setStartTime(startTime);
    event.setEndTime(endTime);
    eventRepository.save(event);
    return event;
}

@Transactional
public Registration register(Person person, Event event) {
    String error = "";
    if (person == null) {
        error = error + "Person needs to be selected for registration! ";
    } else if (!personRepository.existsById(person.getName())) {
        error = error + "Person does not exist! ";
    }
    if (event == null) {
        error = error + "Event needs to be selected for registration!";
    } else if (!eventRepository.existsById(event.getName())) {
        error = error + "Event does not exist!";
    }
    if (registrationRepository.existsByPersonAndEvent(person, event)) {
        error = error + "Person is already registered to this event!";
    }
    error = error.trim();

    if (error.length() &gt; 0) {
        throw new IllegalArgumentException(error);
    }

    Registration registration = new Registration();
	registration.setId(person.getName().hashCode() * event.getName().hashCode());
    registration.setPerson(person);
    registration.setEvent(event);

    registrationRepository.save(registration);

    return registration;
}

@Transactional
public List&lt;Event&gt; getEventsAttendedByPerson(Person person) {
    if (person == null ) {
        throw new IllegalArgumentException("Person cannot be null!");
    }
    List&lt;Event&gt; eventsAttendedByPerson = new ArrayList&lt;&gt;();
    for (Registration r : registrationRepository.findByPerson(person)) {
        eventsAttendedByPerson.add(r.getEvent());
    }
    return eventsAttendedByPerson;
}</code></pre>
</div>
</div>
</li>
<li class="data-line-234">
<p>Run the tests again, and all should be passing this time.</p>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-236">
<h4 id="_service_integration_testing_with_the_curl_tool">2.8.3. Service Integration Testing with the curl Tool</h4>
<div class="paragraph data-line-238">
<p>The command line utility <a href="https://curl.haxx.se/" data-href="https://curl.haxx.se/"><code>curl</code></a> is one way to automate integration testing for the REST API of your application. This brief section shows a basic examples for using it for testing with persons.</p>
</div>
<div class="olist arabic data-line-240">
<ol class="arabic">
<li class="data-line-240">
<p>Make sure you have a clean database for your integration tests. This can be done by using the <code>spring.jpa.hibernate.ddl-auto=create-drop</code> setting in the <em>application.properties</em> file for the test backend, or by exposing a database clear API function that is only used durint integration testing.</p>
</li>
<li class="data-line-242">
<p>Start the backend server.</p>
</li>
<li class="data-line-244">
<p>Issue <code>curl -s <a href="http://localhost:8080/persons" class="undefined" data-href="http://localhost:8080/persons">http://localhost:8080/persons</a></code> and observe the output!</p>
</li>
<li class="data-line-246">
<p>Use the <code>-X</code> switch to specify the used HTTP method:</p>
<div class="listingblock data-line-248">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl -s -X POST http://localhost:8080/persons/testperson1
{"name":"testperson1","events":[]}
$ curl -s -X POST http://localhost:8080/persons/testperson2
{"name":"testperson2","events":[]}
$ curl -s -X http://localhost:8080/persons
[{"name":"testperson1","events":[]},{"name":"testperson2","events":[]}]</code></pre>
</div>
</div>
</li>
<li class="data-line-256">
<p>To verify that a given content is in the returned values, you can use the standard output result of the command and filter it, for example, using <code>grep</code></p>
<div class="listingblock data-line-258">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl -s -X GET  http://localhost:8080/persons | grep -o testperson1
testperson1</code></pre>
</div>
</div>
</li>
<li class="data-line-262">
<p>A way to get started with implementing a Gradle task for integration testing (expected in the second deliverable) is to call a command line tool (e.g., <code>curl</code>) from Gradle. Gradle documentation has a section on how to achieve this: <a href="https://docs.gradle.org/5.6.2/dsl/org.gradle.api.tasks.Exec.html#org.gradle.api.tasks.Exec" class="undefined" data-href="https://docs.gradle.org/5.6.2/dsl/org.gradle.api.tasks.Exec.html#org.gradle.api.tasks.Exec">https://docs.gradle.org/5.6.2/dsl/org.gradle.api.tasks.Exec.html#org.gradle.api.tasks.Exec</a></p>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-264">
<h4 id="_service_integration_testing_with_springs_testresttemplate">2.8.4. Service Integration Testing with Spring&#8217;s <code>TestRestTemplate</code></h4>
<div class="paragraph data-line-266">
<p>As an alternative to the <code>curl</code> tool, you can test your application directly in your Spring project using the <code>TestRestTemplate</code>. This has a few benefits. For example, you can use built-in assertion methods to more precisely specify your test success conditions and you don&#8217;t need any extra steps to integrate these tests into your build system: running <code>./gradlew clean test</code> will automatically run the integration tests. It&#8217;s also nice to be able to see the code coverage for your integration tests, even if it&#8217;s not required for your project.</p>
</div>
<div class="olist arabic data-line-268">
<ol class="arabic">
<li class="data-line-268">
<p>Create a new integration testing class and annotate it with <code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)</code>. This tells Spring to launch the app with a random port (to avoid conflicts if you are already running the app separately).</p>
</li>
<li class="data-line-269">
<p>Autowire a <code>TestRestTemplate</code>. This will act as your API client (like the Advanced REST Client, Postman, or <code>curl</code>).</p>
</li>
<li class="data-line-270">
<p>Autowire any repositories you need to clear the database before your tests.</p>
</li>
<li class="data-line-271">
<p>You can send POST requests to your API using <code>TestRestTemplate.postForEntity()</code>, send GET requests using <code>TestRestTemplate.getForEntity()</code>, and so on. You&#8217;ll need to specify:</p>
<div class="ulist data-line-272">
<ul>
<li class="data-line-272">
<p>A URL (which does not need to include the base URL, since the autowired <code>TestRestTemplate</code> already knows where your app is running)</p>
</li>
<li class="data-line-273">
<p>The type of object you expect to receive in response. You may find it helpful to create a new package-private DTO class to represent this response</p>
</li>
<li class="data-line-274">
<p>For requests that include a body (e.g., POST), the body</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph data-line-276">
<p>A simple suite of integration tests for the <code>Person</code>-related endpoints might look like this:</p>
</div>
<div class="listingblock data-line-277">
<div class="content">
<pre class="highlight"><code>import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertTrue;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;

import ca.mcgill.ecse321.eventregistration.repository.PersonRepository;

@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
public class PersonIntegrationTests {

	@Autowired
	private TestRestTemplate client;

	@Autowired
	private PersonRepository personRepo;

	@BeforeEach
	@AfterEach
	public void clearDatabase() {
		personRepo.deleteAll();
	}

	@Test
	public void testCreateAndGetPerson() {
		int id = testCreatePerson();
		testGetPerson(id);
	}

	private int testCreatePerson() {
		ResponseEntity&lt;PersonDto&gt; response = client.postForEntity("/person", new PersonDto("Obi-Wan Kenobi"), PersonDto.class);

		assertNotNull(response);
		assertEquals(HttpStatus.CREATED, response.getStatusCode(), "Response has correct status");
		assertNotNull(response.getBody(), "Response has body");
		assertEquals("Obi-Wan Kenobi", response.getBody().getName(), "Response has correct name");
		assertTrue(response.getBody().getId() &gt; 0, "Response has valid ID");

		return response.getBody().getId();
	}

	private void testGetPerson(int id) {
		ResponseEntity&lt;PersonDto&gt; response = client.getForEntity("/person/" + id, PersonDto.class);

		assertNotNull(response);
		assertEquals(HttpStatus.OK, response.getStatusCode(), "Response has correct status");
		assertNotNull(response.getBody(), "Response has body");
		assertEquals("Obi-Wan Kenobi", response.getBody().getName(), "Response has correct name");
		assertTrue(response.getBody().getId() == id, "Response has correct ID");
	}

	@Test
	public void testCreateInvalidPerson() {
		ResponseEntity&lt;String&gt; response = client.postForEntity("/person", new PersonDto("   "), String.class);

		assertNotNull(response);
		assertEquals(HttpStatus.BAD_REQUEST, response.getStatusCode(), "Response has correct status");
	}

	@Test
	public void testGetInvalidPerson() {
		ResponseEntity&lt;String&gt; response = client.getForEntity("/person/" + Integer.MAX_VALUE, String.class);

		assertNotNull(response);
		assertEquals(HttpStatus.NOT_FOUND, response.getStatusCode(), "Response has correct status");
		assertEquals("Person not found.", response.getBody(), "Response has correct error message");
	}
}

class PersonDto {
	private int id;
	private String name;

	// Need default constructor so that Jackson can instantiate the object
	public PersonDto() {}

	public PersonDto(String name) {
		this.name = name;
	}

	public int getId() {
		return this.id;
	}

	public String getName() {
		return this.name;
	}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_assessing_code_coverage_using_eclemma">2.9. Assessing Code Coverage using EclEmma</h3>
<div class="paragraph data-line-3">
<p>This tutorial covers the basics of EclEmma and retrieves code coverage metrics using it.</p>
</div>
<div class="sect3 data-line-5">
<h4 id="_getting_eclemma">2.9.1. Getting EclEmma</h4>
<div class="paragraph data-line-7">
<p>Install EclEmma as a plugin in your Eclipse IDE from <a href="https://www.eclemma.org/installation.html" data-href="https://www.eclemma.org/installation.html">here</a>.</p>
</div>
<div class="admonitionblock note data-line-9">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Spring Tools Suite (STS) version of Eclipse already ships with the plugin pre-installed, so you can skip this step if you are using STS.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3 data-line-11">
<h4 id="_example_gradle_project_for_assessing_code_coverage">2.9.2. Example Gradle Project for Assessing Code Coverage</h4>
<div class="paragraph data-line-13">
<p>We will create a Gradle project from scratch and be testing a simple method <em>returnAverage(int[], int, int, int)</em> .</p>
</div>
<div class="olist arabic data-line-15">
<ol class="arabic">
<li class="data-line-15">
<p>Create a new Gradle project in Eclipse by clicking on <em>File</em> &gt; <em>New</em> &gt; <em>Other</em><br>
image::coverage-1.PNG[New Project]</p>
</li>
<li class="data-line-18">
<p>Under <em>Gradle</em>, choose Gradle Project<br>
image::coverage-2.PNG[New Gradle Project]</p>
</li>
<li class="data-line-21">
<p>Click on <em>Next</em>, then name your project <em>tutorial7</em>, click on <em>Finish</em><br>
image::coverage-3.PNG[Project Name]</p>
<div class="admonitionblock note data-line-24">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The project may take some time to be created.
</td>
</tr>
</table>
</div>
</li>
<li class="data-line-26">
<p>Create a new package instead of the default ones for both the source and test folders (e.g <code>ca.mcgill.ecse321.tutorial7</code>) and move the default generated classes (<code>Library</code> and <code>LibraryTest</code>) to this package.<br>
image::coverage-4.PNG[Create Packages]</p>
</li>
<li class="data-line-29">
<p>Change the code in the <code>Library</code> class</p>
<div class="listingblock data-line-32">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.tutorial7;

public class Library {

	public static double returnAverage(int value[], int arraySize, int MIN, int MAX) {
		int index, ti, tv, sum;
		double average;
		index = 0;
		ti = 0;
		tv = 0;
		sum = 0;
		while (ti &lt; arraySize &amp;&amp; value[index] != -999) {
			ti++;
			if (value[index] &gt;= MIN &amp;&amp; value[index] &lt;= MAX) {
				tv++;
				sum += value[index];
			}
			index++;
		}
		if (tv &gt; 0)
			average = (double) sum / tv;
		else
			average = (double) -999;
		return average;
	}
}</code></pre>
</div>
</div>
</li>
<li class="data-line-61">
<p>Change the code in the <code>LibraryTest</code> class</p>
<div class="listingblock data-line-64">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package ca.mcgill.ecse321.tutorial7;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

public class LibraryTest {

	@Test
	public void allBranchCoverageMinimumTestCaseForReturnAverageTest1() {
		int[] value = {5, 25, 15, -999};
		int AS = 4;
		int min = 10;
		int max = 20;
		double average = Library.returnAverage(value, AS, min, max);
		assertEquals(15, average, 0.1);
	}

	@Test
	public void allBranchCoverageMinimumTestCaseForReturnAverageTest2() {
		int[] value = {};
		int AS = 0;
		int min = 10;
		int max = 20;
		double average = Library.returnAverage(value, AS, min, max);
		assertEquals(-999.0, average, 0.1);
	}
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-95">
<h4 id="_retrieving_code_coverage_metrics">2.9.3. Retrieving Code Coverage Metrics</h4>
<div class="admonitionblock note data-line-98">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
We can straightforwardly manage code coverage using JaCoCo inside Eclipse with no configuration if we are using EclEmma Eclipse plugin.
</td>
</tr>
</table>
</div>
<div class="olist arabic data-line-100">
<ol class="arabic">
<li class="data-line-100">
<p>Run the Test in coverage mode using Eclemma. Click on <em>LibraryTest</em>, <em>Coverage As</em>, <em>1 JUnit Test</em><br>
image::coverage-5.PNG[Full Branch Coverage]</p>
</li>
<li class="data-line-103">
<p>Verify that we have 100% branch coverage.<br>
image::coverage-6.PNG[Full Branch Coverage-Eclemma]</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2 data-line-106">
<h3 id="_event_registration_application_unit_code_coverage">2.10. Event Registration Application Unit Code Coverage</h3>
<div class="olist arabic data-line-108">
<ol class="arabic">
<li class="data-line-108">
<p>Check the code coverage of the service unit tests in the EventRegistration-Backend project.</p>
</li>
<li class="data-line-110">
<p>If you want to run the tests using gradle, use the <em>Jacoco plugin</em> with plugin ID <code>jacoco</code>. After adding it to the <em>build.gradle</em> file, the plugin section should look like the one below:</p>
</li>
</ol>
</div>
<div class="listingblock data-line-111">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">plugins {
	id 'org.springframework.boot' version '2.2.4.RELEASE'
	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
	id 'java'
	id 'jacoco'
}</code></pre>
</div>
</div>
<div class="olist arabic data-line-120">
<ol class="arabic">
<li class="data-line-120">
<p>This new plugin gives us the <code>jacocoTestReport</code> task that can generate html reports. Try executing this task from the terminal and see the generated HTML files under <em>build/reports/jacoco/test/html/</em>!</p>
</li>
<li class="data-line-122">
<p>If you wish, you can check enforce a certain treshold on the test cases with this Jacoco plugin. With the definition below, the <code>./gradlew jacocoTestCoverageVerification</code> task will fail if code coverage is below 60%.</p>
</li>
</ol>
</div>
<div class="listingblock data-line-123">
<div class="content">
<pre class="highlight"><code class="language-gradle" data-lang="gradle">jacocoTestCoverageVerification {
	violationRules {
		rule {
			limit {
				minimum = 0.6
			}
		}
	}
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-1">
<h2 id="_frontend">3. Frontend</h2>
<div class="sectionbody">
<div class="sect2 data-line-1">
<h3 id="_installation_instructions_vue_js">3.1. Installation Instructions: Vue.js</h3>
<div class="paragraph data-line-4">
<p><a href="https://vuejs.org/v2/guide/" data-href="https://vuejs.org/v2/guide/">Vue.js</a> is a popular web frontend for building
user interfacs in Javascript, which is considered to be easier to learn compared to <a href="https://reactjs.org/" data-href="https://reactjs.org/">React</a> and
<a href="https://angular.io/" data-href="https://angular.io/">Angular</a>.</p>
</div>
<div class="sect3 data-line-8">
<h4 id="_install_vue_js">3.1.1. Install Vue.js</h4>
<div class="olist arabic data-line-10">
<ol class="arabic">
<li class="data-line-10">
<p>Open a shell (or run <strong>cmd.exe</strong> in Windows)</p>
</li>
<li class="data-line-12">
<p>Check that you successfully installed <strong>node.js</strong> and <strong>npm</strong> e.g. by checking their versions:</p>
<div class="listingblock data-line-15">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ node -v
v10.21.0 (or higher)
$ npm -v
6.14.4 (or higher)</code></pre>
</div>
</div>
</li>
<li class="data-line-22">
<p>Install the command line interface (CLI) for Vue: <code>npm install -g @vue/cli</code></p>
</li>
<li class="data-line-24">
<p>Install the init add-on for vue-cli: <code>npm install -g @vue/cli-init</code></p>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-30">
<h4 id="_generate_initial_vue_js_project_content">3.1.2. Generate initial Vue.js project content</h4>
<div class="olist arabic data-line-32">
<ol class="arabic">
<li class="data-line-32">
<p>Navigate to your local Git repository of the Event Registration System</p>
<div class="listingblock data-line-35">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ cd ~/git/eventregistration</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic data-line-45">
<ol class="arabic">
<li class="data-line-45">
<p>Generate initial content as follows</p>
<div class="ulist data-line-46">
<ul>
<li class="data-line-46">
<p>Hit <kbd>Enter</kbd> after each line if not indicated otherwise</p>
</li>
<li class="data-line-47">
<p>Detailed instructions at <a href="https://github.com/vuejs-templates/webpack" class="undefined" data-href="https://github.com/vuejs-templates/webpack">https://github.com/vuejs-templates/webpack</a> and <a href="https://bootstrap-vue.js.org/docs" class="undefined" data-href="https://bootstrap-vue.js.org/docs">https://bootstrap-vue.js.org/docs</a></p>
<div class="listingblock data-line-50">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ vue init bootstrap-vue/webpack eventregistration-frontend
? Project name (EventRegistration-Frontend) eventregistration-frontend
? Project description (A Vue.js project) A Vue.js frontend for Event Registration App
? Author (Your Name &lt;your.email@provider.com&gt;)
? Vue build (Use arrow keys):
&gt; Runtime + Compiler
  Runtime-only
? Install vue-router (Y/n): Y
? Use ESLint to lint your code (Y/n): n
? Setup unit tests with Karma + Mocha (Y/n) Y
? Setup e2e tests with Nightwatch (Y/n) Y

vue-cli · Generated "eventregistration-frontend".</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-66">
<p>Rename the generated directory to match the naming convention applied for the backend project</p>
<div class="listingblock data-line-68">
<div class="content">
<pre class="highlight"><code>mv eventregistration-frontend/ EventRegistration-Frontend</code></pre>
</div>
</div>
</li>
<li class="data-line-72">
<p>Now execute the following commands (one after the other)</p>
<div class="listingblock data-line-75">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ cd EventRegistration-Frontend
$ npm install
$ npm run dev</code></pre>
</div>
</div>
</li>
<li class="data-line-81">
<p>As a result A sample web page should appear at <a href="http://localhost:8080/" class="undefined" data-href="http://localhost:8080/">http://localhost:8080/</a></p>
</li>
<li class="data-line-83">
<p>You can stop this development server by pressing <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span> in the shell</p>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-85">
<h4 id="_install_additional_dependencies">3.1.3. Install additional dependencies</h4>
<div class="olist arabic data-line-87">
<ol class="arabic">
<li class="data-line-87">
<p>Install JQuery and Axios (we will use these dependencies for issuing REST API calls):</p>
</li>
</ol>
</div>
<div class="listingblock data-line-88">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install --save jquery
npm install --save axios</code></pre>
</div>
</div>
</div>
<div class="sect3 data-line-93">
<h4 id="_setting_up_your_development_server">3.1.4. Setting up your development server</h4>
<div class="olist arabic data-line-95">
<ol class="arabic">
<li class="data-line-95">
<p>We change the default port to <strong>8087</strong> (instead of the default 8080) and
the default IP address by using a configuration file.
The rationale behind this step is that other Tomcat servers may already listen at
the default localhost:8080 port which may clash with our development server.</p>
</li>
<li class="data-line-100">
<p>Open <strong>./config/index.js</strong> and add <code>port: 8087</code> to <code>module.exports</code>
(both <code>build</code> and <code>dev</code> part)</p>
<div class="ulist data-line-102">
<ul>
<li class="data-line-102">
<p>The development server is set up at localhost, i.e. <a href="http://127.0.0.1:8087" class="undefined" data-href="http://127.0.0.1:8087">http://127.0.0.1:8087</a></p>
</li>
<li class="data-line-103">
<p>The production server is set up in accordance with the virtual machines</p>
</li>
<li class="data-line-104">
<p>We also store the host IP address and port of the backend server
in similar environment variables (<code>backendHost</code> and <code>backendPort</code>).</p>
<div class="listingblock data-line-108">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">module.exports = {
  build: {
    env: require('./prod.env'),
    host: '127.0.0.1',
    port: 8087,
    backendHost: '127.0.0.1',
    backendPort: 8080,
    //...
  },
  dev: {
    env: require('./dev.env'),
    host: '127.0.0.1',
    port: 8087,
    backendHost: '127.0.0.1',
    backendPort: 8080,
    //...
  }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-130">
<p>Open <strong>./build/dev-server.js</strong>, and change the <code>uri</code> assignment as follows:</p>
<div class="ulist data-line-131">
<ul>
<li class="data-line-131">
<p>The original line of code can be commented or deleted.</p>
<div class="listingblock data-line-134">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">//var uri = 'http://localhost:' + port
var host = config.dev.host
var uri = 'http://' + host + ':' + port</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-140">
<p>Start again your development server by <code>npm run dev</code>.
The same web application should now appear at <a href="http://127.0.0.1:8087/" class="undefined" data-href="http://127.0.0.1:8087/">http://127.0.0.1:8087/</a></p>
</li>
<li class="data-line-143">
<p>Stop the development server by pressing <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-145">
<h4 id="_commit_your_work_to_github">3.1.5. Commit your work to Github</h4>
<div class="olist arabic data-line-147">
<ol class="arabic">
<li class="data-line-147">
<p>If everything works then commit your work to your Github repository.</p>
</li>
<li class="data-line-149">
<p>Notice that many libraries and files are omitted, which is intentional. Check the <code>.gitignore</code> file for details.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_create_a_static_vue_js_component">3.2. Create a Static Vue.js Component</h3>
<div class="paragraph data-line-3">
<p>Vue.js promotes the use of <a href="https://vuejs.org/v2/guide/components.html" data-href="https://vuejs.org/v2/guide/components.html">components</a>
which encapsulate GUI elements and their behavior in order to build up rich user interfaces in a modular way. A component consists of</p>
</div>
<div class="ulist data-line-6">
<ul>
<li class="data-line-6">
<p><strong>template</strong>: A template of (a part of) an HTML document enriched with
data bindings, conditional expressions, loops, etc.</p>
</li>
<li class="data-line-8">
<p><strong>script</strong>: The behavior of the user interface programmed in JavaScript.</p>
</li>
<li class="data-line-9">
<p><strong>style</strong>: The customized graphical appearance of HTML document elements.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-11">
<p>We will first create a new Vue.js component and then connect it to a backend
Java Spring service via a Rest API call.</p>
</div>
<div class="sect3 data-line-14">
<h4 id="_create_a_component_file">3.2.1. Create a component file</h4>
<div class="admonitionblock note data-line-17">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
We use <code>.</code> below to refer to the <code>EventRegistration-Frontend</code> directory.
</td>
</tr>
</table>
</div>
<div class="olist arabic data-line-19">
<ol class="arabic">
<li class="data-line-19">
<p>Create a new file <strong>EventRegistration.vue</strong> in <strong>./src/components</strong> with  the
following initial content:</p>
<div class="listingblock data-line-23">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;template&gt;
&lt;/template&gt;
&lt;script&gt;
&lt;/script&gt;
&lt;style&gt;
&lt;/style&gt;</code></pre>
</div>
</div>
</li>
<li class="data-line-32">
<p>Create some static HTML content of the template part starting with a <code>&lt;div&gt;</code> element
corresponding to your component. We</p>
<div class="listingblock data-line-36">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;template&gt;
  &lt;div id="eventregistration"&gt;
    &lt;h2&gt;People&lt;/h2&gt;
    &lt;table&gt;
      &lt;tr&gt;
          &lt;td&gt;John&lt;/td&gt;
          &lt;td&gt;Event to attend&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;
              &lt;input type="text" placeholder="Person Name"&gt;
          &lt;/td&gt;
          &lt;td&gt;
              &lt;button&gt;Create&lt;/button&gt;
          &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;p&gt;
      &lt;span style="color:red"&gt;Error: Message text comes here&lt;/span&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
</li>
<li class="data-line-62">
<p>Customize the <code>&lt;style&gt;</code> part with your designated CSS content. A detailed
CSS reference documentation is available at <a href="https://www.w3schools.com/CSSref/" class="undefined" data-href="https://www.w3schools.com/CSSref/">https://www.w3schools.com/CSSref/</a>.
The final result of that part should like as follows.</p>
<div class="listingblock data-line-67">
<div class="content">
<pre class="highlight"><code class="language-HTML" data-lang="HTML">&lt;style&gt;
  #eventregistration {
    font-family: 'Avenir', Helvetica, Arial, sans-serif;
    color: #2c3e50;
    background: #f2ece8;
  }
&lt;/style&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-77">
<h4 id="_create_a_new_routing_command">3.2.2. Create a new routing command</h4>
<div class="olist arabic data-line-79">
<ol class="arabic">
<li class="data-line-79">
<p>We need to route certain HTTP calls to a specific URL to be handled by
<strong>EventRegistration.vue</strong>.</p>
</li>
<li class="data-line-83">
<p>Open  <strong>./src/router/index.js</strong> and add a new route by extending the existing
<code>routes</code> property.</p>
<div class="listingblock data-line-87">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">export default new Router({
  routes: [
    {
      path: '/',
      name: 'Hello',
      component: Hello
    },
    {
      path: '/app',
      name: 'EventRegistration',
      component: EventRegistration
    }
  ]
})</code></pre>
</div>
</div>
<div class="ulist data-line-104">
<ul>
<li class="data-line-104">
<p>You should not change the number of spaces used as indentation otherwise you get error messages, if you have LInt enabled in your project.</p>
</li>
<li class="data-line-105">
<p>Import the new component <code>EventRegistration.vue</code> at the beginning of <strong>./src/router/index.js</strong> after all existing imports!</p>
<div class="listingblock data-line-108">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">// add import after all existing imports
import EventRegistration from '@/components/EventRegistration'</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-113">
<p>Start the development server and navigate your browser to <a href="http://127.0.0.1:8087/#/app" class="undefined" data-href="http://127.0.0.1:8087/#/app">http://127.0.0.1:8087/#/app</a>.
Your new Vue.js component should be rendered (with the static HTML content).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_vue_js_components_with_dynamic_content">3.3. Vue.js Components with Dynamic Content</h3>
<div class="sect3 data-line-3">
<h4 id="_add_data_and_event_handlers">3.3.1. Add data and event handlers</h4>
<div class="paragraph data-line-4">
<p>Next we add event handling and dynamic content to our EventRegistration.vue component.</p>
</div>
<div class="olist arabic data-line-6">
<ol class="arabic">
<li class="data-line-6">
<p>Create another file <strong>registration.js</strong> in the same folder which will contain
the Javascript code for the EventRegistration.vue component.</p>
</li>
<li class="data-line-9">
<p>Create constructor methods:</p>
<div class="listingblock data-line-12">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function PersonDto (name) {
  this.name = name
  this.events = []
}

function EventDto (name, date, start, end) {
  this.name = name
  this.eventDate = date
  this.startTime = start
  this.endTime = end
}</code></pre>
</div>
</div>
</li>
<li class="data-line-26">
<p>Add data variables to the export declaration of the component.</p>
<div class="listingblock data-line-29">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">export default {
  name: 'eventregistration',
  data () {
    return {
      persons: [],
      newPerson: '',
      errorPerson: '',
      response: []
    }
  },
  //...
}</code></pre>
</div>
</div>
</li>
<li class="data-line-44">
<p>Add an initialization function below the data part.</p>
<div class="listingblock data-line-47">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">created: function () {
    // Test data
    const p1 = new PersonDto('John')
    const p2 = new PersonDto('Jill')
    // Sample initial content
    this.persons = [p1, p2]
  },</code></pre>
</div>
</div>
</li>
<li class="data-line-57">
<p>Add event handling method  <strong>createPerson()</strong>:</p>
<div class="listingblock data-line-60">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">methods: {
    createPerson: function (personName) {
      // Create a new person and add it to the list of people
      var p = new PersonDto(personName)
      this.persons.push(p)
      // Reset the name field for new people
      this.newPerson = ''
    }
  }</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-72">
<h4 id="_create_dynamic_data_bindings">3.3.2. Create dynamic data bindings</h4>
<div class="olist arabic data-line-74">
<ol class="arabic">
<li class="data-line-74">
<p>Open <code>EventRegistration.vue</code> and link the Javascript file as script:</p>
<div class="listingblock data-line-77">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;script src="./registration.js"&gt;
&lt;/script&gt;</code></pre>
</div>
</div>
</li>
<li class="data-line-82">
<p>Change the static template content for the person list to dynamic bindings:</p>
<div class="ulist data-line-83">
<ul>
<li class="data-line-83">
<p>We iterate along all people in data property <code>people</code> and
dynamically print their name by <code>{{ person.name }}</code> (see <a href="https://vuejs.org/v2/guide/list.html" data-href="https://vuejs.org/v2/guide/list.html">list rendering</a>)</p>
</li>
<li class="data-line-85">
<p>We print the (currently empty) list of events to which a person is registered to.</p>
<div class="listingblock data-line-88">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;template&gt;
  &lt;div id="eventregistration"&gt;
    &lt;h2&gt;Persons&lt;/h2&gt;
      &lt;table&gt;
        &lt;tr v-for="person in persons" :key="person.name"&gt;
            &lt;td&gt;{{ person.name }}&lt;/td&gt;
            &lt;td&gt;
              &lt;ul&gt;
                &lt;li v-for="event in person.events" :key="event.name"&gt;
                  {{event.name}}
                &lt;/li&gt;
              &lt;/ul&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;!-- ... --&gt;
    &lt;/table&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-109">
<p>Link input field content with data variable <code>newPerson</code> and
button clicks for <strong>Create Person</strong> for event handler method  <code>createPerson()</code>.</p>
<div class="listingblock data-line-113">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;table&gt;
  &lt;!-- ... --&gt;
&lt;tr&gt;
    &lt;td&gt;
        &lt;input type="text" v-model="newPerson" placeholder="Person Name"&gt;
    &lt;/td&gt;
    &lt;td&gt;
        &lt;button v-bind:disabled="!newPerson" @click="createPerson(newPerson)"&gt;Create Person&lt;/button&gt;
    &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</code></pre>
</div>
</div>
</li>
<li class="data-line-127">
<p>Bind the error message to the corresponding variable <code>errorPerson</code>
by extending the <code>&lt;span&gt;</code> tag with <a href="https://vuejs.org/v2/guide/conditional.html" data-href="https://vuejs.org/v2/guide/conditional.html">conditional rendering</a>.</p>
<div class="ulist data-line-129">
<ul>
<li class="data-line-129">
<p>The error message will only appear if the data property <code>errorPerson</code> is not empty.</p>
</li>
<li class="data-line-130">
<p>You may wish to further refine error handling in case of empty string content
for <code>newPerson</code>  by adding <code>&amp;&amp; !newPerson</code> to the condition.</p>
<div class="listingblock data-line-134">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;span v-if="errorPerson" style="color:red"&gt;Error: {{errorPerson}} &lt;/span&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-138">
<p>Run your frontend application and observe that two people are listed.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_calling_backend_services">3.4. Calling Backend Services</h3>
<div class="paragraph data-line-3">
<p>Next we change our frontend to issue calls to the backend via the Rest API provided
by the Java Spring framework. Please refer to the section 3.6.2 where we enabled the Cross-Origin Resource Sharing at the controller level using '@CrossOrigin' notation.</p>
</div>
<div class="sect3 data-line-6">
<h4 id="_calling_backend_services_in_from_vue_js_components">3.4.1. Calling backend services in from Vue.js components</h4>
<div class="paragraph data-line-7">
<p>We need to modify our frontend to make calls to backend services.</p>
</div>
<div class="olist arabic data-line-9">
<ol class="arabic">
<li class="data-line-9">
<p>Open <strong>registration.js</strong> and add the following content to the beginning:</p>
<div class="ulist data-line-10">
<ul>
<li class="data-line-10">
<p>Note that instead of hard-wired IP addresses and ports, details are given in
a configuration file.</p>
<div class="listingblock data-line-14">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">import axios from 'axios'
var config = require('../../config')

var frontendUrl = 'http://' + config.dev.host + ':' + config.dev.port
var backendUrl = 'http://' + config.dev.backendHost + ':' + config.dev.backendPort

var AXIOS = axios.create({
  baseURL: backendUrl,
  headers: { 'Access-Control-Allow-Origin': frontendUrl }
})</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-27">
<p>Now navigate to the <strong>created</strong> function, and replace existing content
with the following lines:</p>
<div class="listingblock data-line-31">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">  created: function () {
    // Initializing persons from backend
    AXIOS.get('/persons')
    .then(response =&gt; {
      // JSON responses are automatically parsed.
      this.persons = response.data
    })
    .catch(e =&gt; {
      this.errorPerson = e
    })
    // Initializing events
    AXIOS.get('/events')
    .then(response =&gt; {
      this.events = response.data
    })
    .catch(e =&gt; {
      this.errorEvent = e
      // this.errors.push(e)
    })
  }</code></pre>
</div>
</div>
</li>
<li class="data-line-55">
<p>Navigate to the <strong>createPerson()</strong> method and change its content as follows:</p>
<div class="listingblock data-line-58">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">createPerson: function (personName) {
      AXIOS.post('/persons/'.concat(personName), {}, {})
        .then(response =&gt; {
        // JSON responses are automatically parsed.
          this.persons.push(response.data)
          this.errorPerson = ''
          this.newPerson = ''
        })
        .catch(e =&gt; {
          var errorMsg = e.response.data.message
          console.log(errorMsg)
          this.errorPerson = errorMsg
        })
    }</code></pre>
</div>
</div>
</li>
<li class="data-line-76">
<p>Run the frontend application and check that</p>
<div class="ulist data-line-77">
<ul>
<li class="data-line-77">
<p>New people can be added</p>
</li>
<li class="data-line-78">
<p>They immediately appear in the people list.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2 data-line-1">
<h3 id="_additional_steps_in_the_tutorial">3.5. Additional steps in the tutorial</h3>
<div class="sect3 data-line-3">
<h4 id="_managing_events">3.5.1. Managing events</h4>
<div class="olist arabic data-line-9">
<ol class="arabic">
<li class="data-line-9">
<p><strong>List all events (name, eventDate, startTime, endTime)</strong></p>
<div class="ulist data-line-10">
<ul>
<li class="data-line-10">
<p>Introduce an array <strong>events</strong> in the frontend data store</p>
<div class="paragraph data-line-12">
<p>Update your <em>registration.js</em>:</p>
</div>
<div class="listingblock data-line-14">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">  data() {
    return {
      persons: [],
      events: [],
      // ... other data members
    }
  },</code></pre>
</div>
</div>
</li>
<li class="data-line-23">
<p>Call the appropriate backend service to fill the contents</p>
<div class="paragraph data-line-25">
<p>Update your <em>registration.js</em>:</p>
</div>
<div class="listingblock data-line-27">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">  created: function () {
    // Initializing persons
    // See: was done above

    // Initializing events
    AXIOS.get('/events').then(response =&gt; {this.events = response.data}).catch(e =&gt; {this.errorEvent = e});
  },</code></pre>
</div>
</div>
</li>
<li class="data-line-36">
<p>Provide a dynamic list in the component and bind it to <strong>events</strong></p>
<div class="paragraph data-line-38">
<p>Update your <em>EventRegistration.vue</em>:</p>
</div>
<div class="listingblock data-line-40">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">    &lt;span v-if="errorPerson" style="color:red"&gt;Error: {{errorPerson}}&lt;/span&gt;
    &lt;!-- This line above is the last line of the section we added in the previous section -- this is only here to ease the navigation in the code --&gt;

&lt;hr&gt;
  &lt;h2&gt;Events&lt;/h2&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;th&gt;Event Name&lt;/th&gt;
      &lt;th&gt;Date&lt;/th&gt;
      &lt;th&gt;Start&lt;/th&gt;
      &lt;th&gt;End&lt;/th&gt;
      &lt;!--&lt;th&gt;Edit&lt;/th&gt;--&gt;
    &lt;/tr&gt;
    &lt;tr v-for="event in events"&gt;
      &lt;td&gt;{{ event.name }}&lt;/td&gt;
      &lt;td&gt;{{ event.eventDate }}&lt;/td&gt;
      &lt;td&gt;{{ event.startTime }}&lt;/td&gt;
      &lt;td&gt;{{ event.endTime }}&lt;/td&gt;
      &lt;!--&lt;td&gt;
        &lt;button v-on:click="updateEvent(event.name)"&gt;Edit&lt;/button&gt;
      &lt;/td&gt;--&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
      &lt;span v-if="errorEvent" style="color:red"&gt;Error: {{errorEvent}} &lt;/span&gt;
&lt;hr&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-69">
<p><strong>Create a new event (name, date, startTime, endTime)</strong></p>
<div class="ulist data-line-70">
<ul>
<li class="data-line-70">
<p>Introduce an object <strong>newEvent</strong> in the frontend data store with four properties
(e.g. name, date, startTime, endTime).</p>
<div class="ulist data-line-72">
<ul>
<li class="data-line-72">
<p>Set the initial values of these properties to somet value</p>
<div class="paragraph data-line-74">
<p>Update <em>registration.js</em> and add to <code>data()</code> at the top</p>
</div>
<div class="listingblock data-line-76">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">      newEvent: {
        name: '',
        eventDate: '2017-12-08',
        startTime: '09:00',
        endTime: '11:00'
      },
      errorEvent: '',</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-85">
<p>Provide a button to initiate creating a new event and provide HTML input fields to set event details</p>
</li>
<li class="data-line-86">
<p>Create a call to the appropriate backend service, i.e. <strong>createEvent()</strong></p>
<div class="paragraph data-line-88">
<p>Update <em>EventRegistration.vue</em></p>
</div>
<div class="listingblock data-line-90">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">      &lt;!-- Add this to the bottom of the table created for displaying events --&gt;
  &lt;tr&gt;
      &lt;td&gt;
        &lt;input type="text" v-model="newEvent.name" placeholder="Event Name"&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;input type="date" v-model="newEvent.eventDate" placeholder="YYYY-MM-DD"&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;input type="time" v-model="newEvent.startTime" placeholder="HH:mm"&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;input type="time" v-model="newEvent.endTime" placeholder="HH:mm"&gt;
      &lt;/td&gt;
      &lt;td&gt;
          &lt;button v-bind:disabled="!newEvent.name" v-on:click="createEvent(newEvent.name, newEvent.eventDate, newEvent.startTime, newEvent.endTime)"&gt;Create&lt;/button&gt;
      &lt;/td&gt;
  &lt;/tr&gt;</code></pre>
</div>
</div>
</li>
<li class="data-line-111">
<p>Introduce an object <strong>errorEvent</strong> for error message related to event creation</p>
<div class="paragraph data-line-113">
<p>This one has been done for <em>registration.js</em> already (<code>errorEvent</code> in <code>data()</code>)</p>
</div>
</li>
<li class="data-line-114">
<p>Provide corresponding HTML field for displaying the error message (e.g. <code>&lt;span&gt;</code>), and set
its appearance condition to the content of the error message</p>
<div class="paragraph data-line-117">
<p>Update <em>EventRegistration.vue</em>: add the following code to the event table</p>
</div>
<div class="listingblock data-line-119">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">    &lt;span v-if="errorEvent" style="color:red"&gt;Error: {{errorEvent}} &lt;/span&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-123">
<p><strong>Register a person to an event</strong> (when a new event should occur in the
list of events printed next to a person)</p>
<div class="ulist data-line-125">
<ul>
<li class="data-line-125">
<p>Provide a selection of people</p>
<div class="ulist data-line-126">
<ul>
<li class="data-line-126">
<p>You need a corresponding data variable (e.g. <strong>selectedPerson</strong>)</p>
</li>
<li class="data-line-127">
<p>You can use the HTML <code>&lt;select v-model="selectedPerson"&gt;</code> tag where each
option (<code>&lt;option&gt;</code> tag with <code>v-for</code> Vue.js parameter) is filled dynamically from
the list of people.</p>
</li>
<li class="data-line-130">
<p><strong>Hint:</strong> You can add a first disabled option as follows:</p>
<div class="listingblock data-line-133">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;option disabled value=""&gt;Please select one&lt;/option&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="data-line-136">
<p>Provide a selection of events in a similar way.</p>
</li>
<li class="data-line-137">
<p>Provide a button to initiate registration</p>
</li>
<li class="data-line-138">
<p>Enable the button only if both a person and an event are selected</p>
<div class="paragraph data-line-140">
<p>The solution for the above bullet points (goes to <em>EventRegistration.vue</em>):</p>
</div>
<div class="listingblock data-line-142">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">  &lt;hr&gt;
    &lt;h2&gt;Registrations&lt;/h2&gt;
    &lt;label&gt;Person:
      &lt;select v-model="selectedPerson"&gt;
        &lt;option disabled value=""&gt;Please select one&lt;/option&gt;
        &lt;option v-for="person in persons" &gt;
          {{ person.name }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/label&gt;
    &lt;label&gt;Event:
      &lt;select v-model="selectedEvent"&gt;
        &lt;option disabled value=""&gt;Please select one&lt;/option&gt;
        &lt;option v-for="event in events" &gt;
          {{ event.name }}
        &lt;/option&gt;
      &lt;/select&gt;
    &lt;/label&gt;
    &lt;button v-bind:disabled="!selectedPerson || !selectedEvent" @click="registerEvent(selectedPerson,selectedEvent)"&gt;Register&lt;/button&gt;
    &lt;hr&gt;</code></pre>
</div>
</div>
</li>
<li class="data-line-164">
<p>Implement the register method in <em>registration.js</em>:</p>
<div class="listingblock data-line-166">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">        registerEvent: function (personName, eventName) {
      var indexEv = this.events.map(x =&gt; x.name).indexOf(eventName)
      var indexPart = this.persons.map(x =&gt; x.name).indexOf(personName)
      var person = this.persons[indexPart]
      var event = this.events[indexEv]
      AXIOS.post('/register', {},
        {params: {
          person: person.name,
          event: event.name}})
      .then(response =&gt; {
        // Update appropriate DTO collections
        person.events.push(event)
        this.selectedPerson = ''
        this.selectedEvent = ''
        this.errorRegistration = ''
      })
      .catch(e =&gt; {
        var errorMsg = e
        console.log(errorMsg)
        this.errorRegistration = errorMsg
      })
    },</code></pre>
</div>
</div>
<div class="olist arabic data-line-191">
<ol class="arabic">
<li class="data-line-191">
<p>To run your applicaiton, use <code>npm install</code> and <code>npm run dev</code></p>
</li>
<li class="data-line-193">
<p>See <a href="https://github.com/Rijul5/eventregistration3" class="undefined" data-href="https://github.com/Rijul5/eventregistration3">https://github.com/Rijul5/eventregistration3</a> for the completed solution</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3 data-line-196">
<h4 id="_further_documentation">3.5.2. Further documentation</h4>
<div class="ulist data-line-197">
<ul>
<li class="data-line-197">
<p>Vue.js guide: <a href="https://vuejs.org/v2/guide/" class="undefined" data-href="https://vuejs.org/v2/guide/">https://vuejs.org/v2/guide/</a></p>
</li>
<li class="data-line-198">
<p>Vue.js API: <a href="https://vuejs.org/v2/api/" class="undefined" data-href="https://vuejs.org/v2/api/">https://vuejs.org/v2/api/</a></p>
</li>
<li class="data-line-199">
<p>Build commands: <a href="http://vuejs-templates.github.io/webpack/commands.html" class="undefined" data-href="http://vuejs-templates.github.io/webpack/commands.html">http://vuejs-templates.github.io/webpack/commands.html</a></p>
</li>
<li class="data-line-200">
<p>Vue.js and Webpack integration: <a href="http://vuejs-templates.github.io/webpack/env.html" class="undefined" data-href="http://vuejs-templates.github.io/webpack/env.html">http://vuejs-templates.github.io/webpack/env.html</a></p>
</li>
<li class="data-line-201">
<p>Html-Webpack: <a href="https://github.com/jantimon/html-webpack-plugin" class="undefined" data-href="https://github.com/jantimon/html-webpack-plugin">https://github.com/jantimon/html-webpack-plugin</a></p>
</li>
<li class="data-line-202">
<p>Vue Router: <a href="https://github.com/vuejs/vue-router" class="undefined" data-href="https://github.com/vuejs/vue-router">https://github.com/vuejs/vue-router</a></p>
</li>
<li class="data-line-203">
<p>Vue Router tutorial: <a href="https://scotch.io/tutorials/getting-started-with-vue-router" class="undefined" data-href="https://scotch.io/tutorials/getting-started-with-vue-router">https://scotch.io/tutorials/getting-started-with-vue-router</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-03-22 12:14:43 -0400
</div>
</div>
</body>
</html>